{"version":3,"file":"js/528.dcee05b1.js","mappings":"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","sources":["webpack://ecsaconm-event/./src/views/main/configurations/roles/Roles.vue","webpack://ecsaconm-event/./src/views/main/configurations/roles/Roles.vue?e339","webpack://ecsaconm-event/./node_modules/@heroicons/vue/24/solid/esm/EyeIcon.js"],"sourcesContent":["<template>\n    <div class=\"flex flex-col space-y-4 flex-1\">\n        <HeaderView :headerTitle=\"headerTitle\"></HeaderView>\n        <div class=\"flex flex-col space-y-4\">\n            <div class=\"flex sm:flex-row flex-col sm:justify-between sm:items-center items-start\">\n                <search-component @search=\"handleSearch\"></search-component>\n                <router-link :to=\"{ name: 'AddRole' }\" v-if=\"permissions.includes('ADD_ROLE')\"\n                    class=\"mt-2 px-4 py-2 text-white-200 bg-bondi-blue-500 hover:bg-bondi-blue-400 rounded-2xl\">\n                    Add Role</router-link>\n            </div>\n            <SpinnerComponent v-if=\"isLoading\" />\n            <div v-else class=\"rounded-2xl border border-white-600 shadow-sm p-4 text-abbey-500\">\n                <div class=\"flex sm:flex-row flex-col bg-shuttle-gray-300 p-2 text-sm font-bold\">\n                    <div class=\"sm:w-4/12 w-full\">Role</div>\n                    <div class=\"sm:w-6/12 w-full\">Description</div>\n                    <div class=\"sm:w-2/12 w-full\">Action</div>\n                </div>\n                <div class=\"flex sm:flex-row flex-col p-2 text-sm items-center\" v-for=\"(role, index) in roles\"\n                    :key=\"role.id\" :class=\"getRowClass(index)\">\n                    <div class=\"sm:w-4/12 w-full\">{{ role.role }}</div>\n                    <div class=\"sm:w-6/12 w-full\">{{ role.description }}</div>\n                    <div class=\"flex space-x-2 sm:w-2/12 w-full\">\n                        <router-link v-if=\"permissions.includes('VIEW_ROLE')\"\n                            class=\"p-1 border border-st-tropaz-600 bg-st-tropaz-200 rounded-full\"\n                            :to=\"{ name: 'Role', params: { id: role.id } }\">\n                            <EyeIcon class=\"w-5 h-5 text-st-tropaz-600\"></EyeIcon>\n                        </router-link>\n                        <router-link v-if=\"permissions.includes('UPDATE_ROLE')\"\n                            class=\"p-1 bg-mountain-meadow-300 border border-mountain-meadow-700 rounded-full\"\n                            :to=\"{ name: 'EditRole', params: { id: role.id } }\">\n                            <PencilSquareIcon class=\" w-5 h-5 text-mountain-meadow-900\">\n                            </PencilSquareIcon>\n                        </router-link>\n                        <div v-if=\"permissions.includes('DELETE_ROLE')\"\n                            class=\"p-1 border border-flamingo-600 bg-flamingo-400  rounded-full\">\n                            <TrashIcon class=\"w-5 h-5 text-flamingo-800\" @click=\"showDeleteConfirmation(role.id)\">\n                            </TrashIcon>\n                        </div>\n                    </div>\n                </div>\n                <pagination-component :currentPage=\"currentPage\" :totalPages=\"totalPages\"\n                    @page-change=\"handlePageChange\">\n                </pagination-component>\n            </div>\n        </div>\n        <delete-confirmation-modal :show=\"showDeleteModal\" @confirmed=\"deleteRole(deleteRoleId)\"\n            @canceled=\"cancelDelete\"></delete-confirmation-modal>\n    </div>\n</template>\n\n<script>\nimport HeaderView from '@/includes/Header.vue'\nimport { EyeIcon, PencilSquareIcon, TrashIcon } from '@heroicons/vue/24/solid'\nimport PaginationComponent from '@/components/PaginationComponent.vue'\nimport SearchComponent from '@/components/SearchComponent.vue'\nimport { fetchData, deleteItem } from \"@/services/apiService\";\nimport SpinnerComponent from \"@/components/Spinner.vue\";\nimport DeleteConfirmationModal from \"@/components/DeleteConfirmationModal.vue\";\nimport { useAuthStore } from \"@/store/authStore\";\n\nexport default {\n    name: 'RolesView',\n    components: {\n        EyeIcon, PencilSquareIcon, TrashIcon, PaginationComponent, SearchComponent, HeaderView, SpinnerComponent, DeleteConfirmationModal\n    },\n    data() {\n        return {\n            headerTitle: \"Roles\",\n            roles: {},\n            isLoading: true,\n            showDeleteModal: false,\n            deletePersonnelId: null,\n            currentPage: 1,\n            totalPages: \"\",\n            pageSize: process.env.VUE_APP_PAGE_SIZE,\n            searchPhrase: \"\"\n        };\n    },\n    mounted() {\n        this.getRoles();\n    },\n    setup() {\n        const authStore = useAuthStore()\n        const permissions = authStore.permissions\n        return { permissions }\n    },\n    methods: {\n        async getRoles() {\n            try {\n                const response = await fetchData(\"roles\", this.currentPage, this.pageSize, this.searchPhrase);\n                this.roles = response.data;\n                this.totalPages = response.pages;\n                this.isLoading = false;\n            } catch (error) {\n                console.error(\"Error fetching roles:\", error);\n                this.isLoading = false;\n            }\n        },\n        async handleSearch(searchQuery) {\n            this.searchPhrase = searchQuery\n            this.getRoles();\n        },\n        async handlePageChange(newPage) {\n            this.currentPage = newPage;\n            this.getRoles();\n        },\n        async deleteRole(id) {\n            this.isLoading = true;\n            try {\n                await deleteItem(\"roles\", id);\n                const index = this.roles.findIndex((role) => role.id === id);\n                if (index !== -1) {\n                    this.roles.splice(index, 1);\n                }\n                this.showDeleteModal = false;\n                this.isLoading = false;\n            } catch (error) {\n                console.error(\"Error fetching roles:\", error);\n                this.isLoading = false;\n                this.showDeleteModal = false;\n            }\n        },\n        showDeleteConfirmation(id) {\n            this.deleteRoleId = id;\n            this.showDeleteModal = true;\n        },\n        cancelDelete() {\n            this.showDeleteModal = false;\n        },\n        getRowClass(index) {\n            return index % 2 === 0 ? 'bg-st-tropaz-100' : 'bg-shuttle-gray-50';\n        },\n    }\n}\n</script>","import { render } from \"./Roles.vue?vue&type=template&id=79fd1420\"\nimport script from \"./Roles.vue?vue&type=script&lang=js\"\nexport * from \"./Roles.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", { d: \"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z\" }),\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}"],"names":["class","key","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_HeaderView","headerTitle","$data","_hoisted_2","_hoisted_3","_component_search_component","onSearch","$options","handleSearch","$setup","permissions","includes","_createBlock","_component_router_link","to","name","default","_withCtx","_createTextVNode","_","_createCommentVNode","isLoading","_component_SpinnerComponent","_hoisted_4","_hoisted_5","_Fragment","_renderList","roles","role","index","_normalizeClass","getRowClass","id","_hoisted_6","_toDisplayString","_hoisted_7","description","_hoisted_8","params","_component_EyeIcon","_component_PencilSquareIcon","_hoisted_9","_component_TrashIcon","onClick","$event","showDeleteConfirmation","_component_pagination_component","currentPage","totalPages","onPageChange","handlePageChange","_component_delete_confirmation_modal","show","showDeleteModal","onConfirmed","_cache","deleteRole","_ctx","deleteRoleId","onCanceled","cancelDelete","components","EyeIcon","PencilSquareIcon","TrashIcon","PaginationComponent","SearchComponent","HeaderView","SpinnerComponent","DeleteConfirmationModal","data","deletePersonnelId","pageSize","process","searchPhrase","mounted","this","getRoles","setup","authStore","useAuthStore","methods","response","fetchData","pages","error","console","searchQuery","newPage","deleteItem","findIndex","splice","__exports__","render","xmlns","viewBox","fill","d"],"sourceRoot":""}