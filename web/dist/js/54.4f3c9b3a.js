"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[54],{7023:function(e,t,n){n.d(t,{A:function(){return v}});var o=n(6768),a=n(4232);const r={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},s={class:"flex flex-col justify-center items-center border border-abbey-500 border-t-4 bg-white-50 rounded-2xl shadow-lg p-4 w-96 z-50 text-abbey-500"},l={class:"text-lg font-light mb-4"},i=(0,o.Lk)("p",{class:"text-2xl font-semibold mb-4"},"Are you sure?",-1),c={class:"mb-4"},d={class:"flex justify-end"};function u(e,t,n,u,h,g){const b=(0,o.g2)("XCircleIcon");return n.show?((0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",s,[(0,o.Lk)("p",l,[(0,o.bF)(b,{class:"h-12 w-12 text-flamingo-900"})]),i,(0,o.Lk)("p",c,(0,a.v_)(n.message),1),(0,o.Lk)("div",d,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>g.cancel&&g.cancel(...e)),class:"bg-abbey-50 hover:bg-abbey-100 text-abbey-600 py-1 px-4 rounded-2xl mr-2"}," Cancel "),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>g.confirm&&g.confirm(...e)),class:"bg-flamingo-800 text-white hover:bg-flamingo-600 py-1 px-4 rounded-2xl"}," Delete ")])])])):(0,o.Q3)("",!0)}var h=n(5246),g={components:{XCircleIcon:h.A},props:{show:{type:Boolean,required:!0},message:{type:String,default:"Are you sure you want to delete this item?"}},methods:{confirm(){this.$emit("confirmed")},cancel(){this.$emit("canceled")}}},b=n(1241);const p=(0,b.A)(g,[["render",u]]);var v=p},8776:function(e,t,n){n.d(t,{A:function(){return g}});var o=n(6768),a=n(4232);const r={class:"flex flex-row space-x-4 bg-athens-gray-100 py-4 text-sm items-center"},s=["disabled"],l={class:"font-bold"},i=["disabled"];function c(e,t,n,c,d,u){return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>u.prevPage&&u.prevPage(...e)),disabled:1===n.currentPage,class:"px-3 rounded-xl text-white-200 bg-bondi-blue-500 hover:bg-bondi-blue-400 p-1"},"Previous",8,s),(0,o.Lk)("div",l,"Page "+(0,a.v_)(n.currentPage)+" of "+(0,a.v_)(n.totalPages),1),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>u.nextPage&&u.nextPage(...e)),disabled:n.currentPage===n.totalPages,class:"px-3 rounded-xl text-white-200 bg-bondi-blue-500 hover:bg-bondi-blue-400 p-1"},"Next",8,i)])}var d={name:"PaginationComponent",props:{currentPage:Number,totalPages:Number},methods:{prevPage(){console.log("Here"),this.currentPage>1&&this.$emit("page-change",this.currentPage-1)},nextPage(){this.currentPage<this.totalPages&&this.$emit("page-change",this.currentPage+1)}}},u=n(1241);const h=(0,u.A)(d,[["render",c]]);var g=h},2464:function(e,t,n){n.d(t,{A:function(){return c}});var o=n(6768),a=n(5130);function r(e,t,n,r,s,l){return(0,o.uX)(),(0,o.CE)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...t)=>e.addRole&&e.addRole(...t)),["prevent"])),class:"sm:w-4/12 w-12/12 flex flex-row space-x-2"},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.searchQuery=e),class:"mt-2 px-4 p-2 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block w-full rounded-2xl sm:text-sm focus:ring-1",placeholder:"Search..."},null,512),[[a.Jo,s.searchQuery]]),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.search&&l.search(...e)),class:"mt-2 px-4 py-2 text-white-400 bg-bondi-blue-500 hover:bg-bondi-blue-400 rounded-2xl"}," Search")],32)}var s={name:"SearchComponent",data(){return{searchQuery:""}},methods:{search(){this.$emit("search",this.searchQuery)}}},l=n(1241);const i=(0,l.A)(s,[["render",r]]);var c=i},3672:function(e,t,n){n.d(t,{A:function(){return I}});var o=n(6768),a=n(4232);const r={class:"flex flex-row p-4 bg-catalina-blue rounded-2xl border-b-4 border-abbey-400"},s={class:"flex flex-row flex-1 justify-between space-x-2 items-center"},l={class:"flex flex-row items-center font-bold space-x-4"},i={class:"text-xl text-abbey-600"},c={class:"flex items-center space-x-4 justify-end"},d={class:"flex flex-row items-center"},u={class:"flex flex-row items-center"};function h(e,t,n,h,g,b){const p=(0,o.g2)("Bars3CenterLeftIcon"),v=(0,o.g2)("BellIcon"),f=(0,o.g2)("EnvelopeIcon"),x=(0,o.g2)("ProfileComponent");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",s,[(0,o.Lk)("div",l,[(0,o.bF)(p,{class:"h-8 w-8 text-bondi-blue-500"}),(0,o.Lk)("span",i,(0,a.v_)(n.headerTitle),1)]),(0,o.Lk)("div",c,[(0,o.Lk)("div",d,[(0,o.bF)(v,{class:"w-6 h-6 text-bondi-blue-500"})]),(0,o.Lk)("div",u,[(0,o.bF)(f,{class:"w-6 h-6 text-bondi-blue-500"})]),(0,o.bF)(x,{label:`${e.firstname} ${e.lastname}`},null,8,["label"])])])])}function g(e,t){return(0,o.uX)(),(0,o.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75H12a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z","clip-rule":"evenodd"})])}function b(e,t){return(0,o.uX)(),(0,o.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z","clip-rule":"evenodd"})])}function p(e,t){return(0,o.uX)(),(0,o.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,o.Lk)("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),(0,o.Lk)("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"})])}const v={class:"relative inline-block text-left"},f={class:"text-sm text-catskill-white-500"},x={key:0,class:"origin-top-right absolute right-0 mt-2 w-32 rounded-xl shadow-lg bg-bondi-blue-50"},m={class:"py-2 space-y-2",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"};function w(e,t,n,r,s,l){const i=(0,o.g2)("UserCircleIcon");return(0,o.uX)(),(0,o.CE)("div",v,[(0,o.Lk)("div",{onClick:t[0]||(t[0]=e=>s.isOpen=!s.isOpen),class:"flex flex-row items-center space-x-2 cursor-pointer"},[(0,o.bF)(i,{class:"w-8 h-8 text-bondi-blue-700"}),(0,o.Lk)("span",f,(0,a.v_)(r.loginUser.firstname)+" "+(0,a.v_)(r.loginUser.lastname),1)]),s.isOpen?((0,o.uX)(),(0,o.CE)("div",x,[(0,o.Lk)("div",m,[(0,o.Lk)("a",{onClick:t[1]||(t[1]=(...e)=>l.profile&&l.profile(...e)),class:"block px-4 cursor-pointer text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"}," My profile "),(0,o.Lk)("a",{onClick:t[2]||(t[2]=(...e)=>l.logout&&l.logout(...e)),class:"block px-4 cursor-pointer text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"}," Logout ")])])):(0,o.Q3)("",!0)])}n(4114);var k=n(1617);function C(e,t){return(0,o.uX)(),(0,o.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z","clip-rule":"evenodd"})])}var L=n(6826),y={name:"ProfileComponent",components:{UserCircleIcon:C},props:{label:String},data(){return{isOpen:!1}},setup(){const e=(0,L.n)(),t=e.loginUser;return{loginUser:t}},methods:{async profile(){k.A.push("/my-profile/"+this.loginUser.id)},async logout(){localStorage.removeItem("authToken"),k.A.push("/")}}},E=n(1241);const P=(0,E.A)(y,[["render",w]]);var A=P,X={name:"HeaderView",components:{Bars3CenterLeftIcon:g,BellIcon:b,EnvelopeIcon:p,ProfileComponent:A},props:{headerTitle:String}};const D=(0,E.A)(X,[["render",h]]);var I=D},4998:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var o=n(6768),a=n(4232);const r={class:"flex flex-col space-y-4 flex-1"},s={class:"flex flex-col space-y-4"},l={class:"flex justify-between items-center"},i={key:1,class:"rounded-2xl border border-white-600 shadow-sm text-abbey-500"},c={class:"flex"},d={class:"flex flex-col flex-1 m-4 text-sm rounded-2xl border-2 border-bondi-blue-500"},u={class:"bg-bondi-blue-500 rounded-b-xl"},h={class:"flex flex-col space-y-2 text-white font-roboto-thin border-b border-bondi-blue-400 p-3"},g={class:"flex flex-row items-center space-x-3",title:"Event date"},b={class:"flex flex-row items-center space-x-3",title:"Location"},p={class:"flex flex-row items-center space-x-3",title:"Organiser"},v={class:"flex space-x-2 px-4 p-1 font-semibold font-roboto-thin sm:w-2/12"},f=["onClick"],x={class:"px-4"};function m(e,t,n,m,w,k){const C=(0,o.g2)("HeaderView"),L=(0,o.g2)("search-component"),y=(0,o.g2)("router-link"),E=(0,o.g2)("SpinnerComponent"),P=(0,o.g2)("CalendarDaysIcon"),A=(0,o.g2)("MapPinIcon"),X=(0,o.g2)("UserIcon"),D=(0,o.g2)("pagination-component"),I=(0,o.g2)("delete-confirmation-modal");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(C,{headerTitle:w.headerTitle},null,8,["headerTitle"]),(0,o.Lk)("div",s,[(0,o.Lk)("div",l,[(0,o.bF)(L,{onSearch:k.handleSearch},null,8,["onSearch"]),m.permissions.includes("ADD_EVENT")?((0,o.uX)(),(0,o.Wv)(y,{key:0,to:{name:"AddEvent"},class:"mt-2 px-4 py-2 text-white-200 bg-bondi-blue-500 hover:bg-bondi-blue-400 rounded-2xl"},{default:(0,o.k6)((()=>[(0,o.eW)(" Add Event")])),_:1})):(0,o.Q3)("",!0)]),w.isLoading?((0,o.uX)(),(0,o.Wv)(E,{key:0})):((0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",c,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(w.events,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"sm:w-4/12",key:e.id},[(0,o.Lk)("div",d,[(0,o.bF)(y,{to:{name:"Event",params:{id:e.id}},class:"p-3",title:"Event"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,(0,a.v_)(e.event),1)])),_:2},1032,["to"]),(0,o.Lk)("div",u,[(0,o.Lk)("div",h,[(0,o.Lk)("div",g,[(0,o.bF)(P,{class:"w-5 h-5 text-bondi-blue-50"}),(0,o.Lk)("span",null,(0,a.v_)(e.start_date),1)]),(0,o.Lk)("div",b,[(0,o.bF)(A,{class:"w-5 h-5 text-bondi-blue-50"}),(0,o.Lk)("span",null,(0,a.v_)(e.location),1)]),(0,o.Lk)("div",p,[(0,o.bF)(X,{class:"w-5 h-5 text-bondi-blue-50"}),(0,o.Lk)("span",null,(0,a.v_)(e.organiser.organiser),1)])]),(0,o.Lk)("div",v,[m.permissions.includes("UPDATE_EVENT")?((0,o.uX)(),(0,o.Wv)(y,{key:0,title:"Edit",class:"p-1 px-3 text-mountain-meadow-900 bg-mountain-meadow-300 border border-mountain-meadow-800 rounded-xl",to:{name:"EditEvent",params:{id:e.id}}},{default:(0,o.k6)((()=>[(0,o.eW)("Edit ")])),_:2},1032,["to"])):(0,o.Q3)("",!0),m.permissions.includes("DELETE_EVENT")?((0,o.uX)(),(0,o.CE)("div",{key:1,title:"Delete",onClick:t=>k.showDeleteConfirmation(e.id),class:"p-1 px-3 border text-flamingo-900 border-flamingo-700 bg-flamingo-400 rounded-xl cursor-pointer"}," Delete ",8,f)):(0,o.Q3)("",!0)])])])])))),128))]),(0,o.Lk)("div",x,[(0,o.bF)(D,{currentPage:w.currentPage,totalPages:w.totalPages,onPageChange:k.handlePageChange},null,8,["currentPage","totalPages","onPageChange"])])]))]),(0,o.bF)(I,{show:w.showDeleteModal,onConfirmed:t[0]||(t[0]=e=>k.deleteEvent(w.deleteEventId)),onCanceled:k.cancelDelete},null,8,["show","onCanceled"])])}var w=n(3672),k=n(1663),C=n(1839);function L(e,t){return(0,o.uX)(),(0,o.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z","clip-rule":"evenodd"})])}var y=n(8776),E=n(2464),P=n(133),A=n(2521),X=n(7023),D=n(6826),I={name:"EventsView",components:{MapPinIcon:k.A,CalendarDaysIcon:C.A,UserIcon:L,PaginationComponent:y.A,SearchComponent:E.A,HeaderView:w.A,SpinnerComponent:A.A,DeleteConfirmationModal:X.A},data(){return{headerTitle:"Events",events:{},isLoading:!0,showDeleteModal:!1,deleteEventId:null,currentPage:1,totalPages:"",pageSize:"10",searchPhrase:""}},mounted(){this.getEvents()},setup(){const e=(0,D.n)(),t=e.permissions;return{permissions:t}},methods:{async getEvents(){try{const e=await(0,P.Fd)("events",this.currentPage,this.pageSize,this.searchPhrase);this.events=e.data,this.totalPages=e.pages,this.isLoading=!1}catch(e){console.error("Error fetching events:",e),this.isLoading=!1}},async handleSearch(e){this.searchPhrase=e,this.getEvents()},async handlePageChange(e){this.currentPage=e,this.getEvents()},async deleteEvent(e){this.isLoading=!0;try{await(0,P.LD)("events",e);const t=this.events.findIndex((t=>t.id===e));-1!==t&&this.events.splice(t,1),this.showDeleteModal=!1,this.isLoading=!1}catch(t){console.error("Error fetching events:",t),this.isLoading=!1,this.showDeleteModal=!1}},showDeleteConfirmation(e){this.deleteEventId=e,this.showDeleteModal=!0},cancelDelete(){this.showDeleteModal=!1},getRowClass(e){return e%2===0?"bg-st-tropaz-100":"bg-shuttle-gray-50"}}},M=n(1241);const S=(0,M.A)(I,[["render",m]]);var _=S},1663:function(e,t,n){n.d(t,{A:function(){return a}});var o=n(6768);function a(e,t){return(0,o.uX)(),(0,o.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z","clip-rule":"evenodd"})])}},5246:function(e,t,n){n.d(t,{A:function(){return a}});var o=n(6768);function a(e,t){return(0,o.uX)(),(0,o.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z","clip-rule":"evenodd"})])}}}]);
//# sourceMappingURL=54.4f3c9b3a.js.map