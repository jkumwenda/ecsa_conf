{"version":3,"file":"js/9.0a5709fd.js","mappings":"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","sources":["webpack://ecsaconm-event/./src/views/web/UserEventStatus.vue","webpack://ecsaconm-event/./src/views/web/UserEventStatus.vue?e8c8","webpack://ecsaconm-event/./node_modules/@heroicons/vue/24/solid/esm/CheckCircleIcon.js"],"sourcesContent":["<template>\n    <div class=\"flex flex-col space-y-6 flex-1 items-center\">\n        <SpinnerComponent v-if=\"isLoading\" />\n        <div v-else class=\"flex flex-col w-11/12 justify-center items-center space-y-4\">\n            <div class=\"flex flex-row sm:w-10/12 w-full border-2 border-abbey-500 rounded-xl text-center py-2\">\n                <div class=\"flex flex-col w-full space-y-2\">\n                    <div class=\"font-roboto-light text-xl p-4\">{{ userEvent.event }}</div>\n                    <h1 class=\"px-4 py-2 bg-bondi-blue-500 font-bold text-white-100\">User details</h1>\n                    <div class=\"flex flex-col\">\n                        <span>{{ userEvent.title }} {{ userEvent.firstname }} {{ userEvent.lastname }}</span>\n                        <span>{{ userEvent.email }}</span>\n                        <span>{{ userEvent.institution }}</span>\n                        <span>{{ userEvent.participant_country }}</span>\n                        <span>{{ userEvent.participant_category }}</span>\n                    </div>\n                    <h1 class=\"px-4 py-2 bg-abbey-500 font-bold text-white-100\">Payment Status</h1>\n                    <div class=\"flex flex-col\">\n                        <span v-if=\"userEvent.event_payment\" class=\"font-bold text-mountain-meadow-800\">Paid</span>\n                        <div v-else class=\"flex flex-col px-4 items-center justify-center\">\n                            <span class=\"italic text-bondi-blue-700 font-bold\">Not paid</span>\n                            <div class=\"p-1 px-4 rounded-md text-sm bg-bondi-blue-200 border border-bondi-blue-400 text-bondi-blue-800\"\n                                v-if=\"errorMsg\">{{ errorMsg }}</div>\n                            <div class=\"p-1 px-4 rounded-md text-sm bg-mountain-meadow-100 border border-mountain-meadow-400 text-mountain-meadow-800\"\n                                v-if=\"successMsg\">{{ successMsg }}</div>\n                            <form @submit.prevent=\"confirmPayment\" method=\"POST\"\n                                class=\"sm:w-12/12 bg-ghost-300 p-2 px-6 rounded-xl my-4\">\n                                <span class=\"font-roboto-light text-sm\">Enter key to confirm payment</span>\n                                <input v-model=\"paymentConfirmData.private_key\"\n                                    class=\"mt-2 px-2 py-2 bg-white border border-1 shadow-sm border-abbey-400 placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-sky-500 block w-full rounded-md sm:text-sm focus:ring-1\"\n                                    placeholder=\"Private key\" />\n                                <button type=\"submit\"\n                                    class=\"mt-2 px-4 py-2 text-sm text-white-100 bg-abbey-600 hover:bg-abbey-400 rounded-md\">\n                                    Confirm Payment\n                                </button>\n                            </form>\n                        </div>\n                    </div>\n                    <h1 class=\"px-4 py-2 bg-abbey-200 font-bold text-white-100\">Attendance Register</h1>\n                    <div class=\"flex flex-col pb-4\">\n                        <div v-if=\"attendances.length > 0\" class=\"flex flex-col items-center\">\n                            <span v-for=\"attendance in attendances\" :key=\"attendance.id\"\n                                class=\"flex flex-row space-x-2\">\n                                <span>{{ formatDate(attendance.date) }}</span>\n                                <CheckCircleIcon class=\"w-5 h-5 text-mountain-meadow-800 cursor-pointer\" />\n                            </span>\n                        </div>\n                        <div v-else class=\"italic text-sm\">Not attendance registered yet</div>\n                    </div>\n                </div>\n            </div>\n            <div></div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { fetchItemMultiple, createItem } from \"@/services/apiService\";\nimport { CheckCircleIcon } from '@heroicons/vue/24/solid';\nimport SpinnerComponent from \"@/components/Spinner.vue\";\n\nexport default {\n    name: \"UserEventStatusView\",\n    components: {\n        SpinnerComponent, CheckCircleIcon\n    },\n    data() {\n        return {\n            headerTitle: \"User Event Status\",\n            userId: this.$route.params.userId,\n            eventId: this.$route.params.eventId,\n            userEvent: \"\",\n            attendances: [],\n            appUrl: process.env.VUE_APP_BASE_URL,\n            apiUrl: process.env.VUE_APP_API_URL,\n            isLoading: true,\n            paymentConfirmData: {\n                private_key: \"\",\n                event_id: \"\",\n                user_id: \"\",\n            },\n            errorMsg: null,\n            successMsg: null // Fixed success message variable name\n        };\n    },\n    mounted() {\n        this.getUserEvent();\n    },\n    methods: {\n        async getUserEvent() {\n            this.errorMsg = null;\n            try {\n                const response = await fetchItemMultiple(\"events\", \"user\", \"event\", this.userId, this.eventId);\n                this.userEvent = response.user_event;\n                this.attendances = response.attendance;\n                this.isLoading = false;\n            } catch (error) {\n                console.error(\"Error fetching user event:\", error);\n                this.isLoading = false;\n            }\n        },\n        async confirmPayment() {\n            this.paymentConfirmData.event_id = this.eventId;\n            this.paymentConfirmData.user_id = this.userId;\n\n            console.log(\"Entered private_key:\", this.paymentConfirmData.private_key);\n\n            if (this.paymentConfirmData.private_key === '24') { // Ensure this matches the required key\n                this.isLoading = true;\n                try {\n                    const response = await createItem(\"events/confirm_event_payment/\", this.paymentConfirmData);\n                    this.successMsg = \"Successfully confirmed attendance for today\"; // Fixed success message variable name\n                    this.events = response.data;\n                    this.errorMsg = null;\n                    this.getUserEvent();\n                } catch (error) {\n                    console.error(\"Error fetching event payment:\", error);\n                    this.errorMsg = \"An error occurred while confirming the payment.\";\n                } finally {\n                    this.isLoading = false;\n                }\n            } else {\n                this.errorMsg = \"Invalid key, only secretariat can confirm payment\";\n            }\n        },\n        formatDate(dateString) {\n            const date = new Date(dateString);\n            return date.toLocaleString(\"en-UK\", {\n                day: \"2-digit\",\n                month: \"2-digit\",\n                year: \"numeric\",\n            });\n        },\n    },\n};\n</script>\n\n<style scoped>\n/* Add any scoped styles here if needed */\n</style>\n","import { render } from \"./UserEventStatus.vue?vue&type=template&id=d79f9e2e&scoped=true\"\nimport script from \"./UserEventStatus.vue?vue&type=script&lang=js\"\nexport * from \"./UserEventStatus.vue?vue&type=script&lang=js\"\n\nimport \"./UserEventStatus.vue?vue&type=style&index=0&id=d79f9e2e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d79f9e2e\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}"],"names":["class","key","_createElementVNode","type","_createElementBlock","_hoisted_1","$data","isLoading","_createBlock","_component_SpinnerComponent","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","userEvent","event","_hoisted_6","_hoisted_7","title","firstname","lastname","email","institution","participant_country","participant_category","_hoisted_8","_hoisted_9","event_payment","_hoisted_10","_hoisted_11","_hoisted_12","errorMsg","_hoisted_13","_createCommentVNode","successMsg","_hoisted_14","onSubmit","_cache","_withModifiers","args","$options","confirmPayment","method","_hoisted_15","$event","paymentConfirmData","private_key","placeholder","_hoisted_16","_hoisted_17","_hoisted_18","attendances","length","_hoisted_19","_Fragment","_renderList","attendance","id","formatDate","date","_createVNode","_component_CheckCircleIcon","_hoisted_20","_hoisted_21","name","components","SpinnerComponent","CheckCircleIcon","data","headerTitle","userId","this","$route","params","eventId","appUrl","process","apiUrl","event_id","user_id","mounted","getUserEvent","methods","response","fetchItemMultiple","user_event","error","console","log","createItem","events","dateString","Date","toLocaleString","day","month","year","__exports__","render","_ctx","xmlns","viewBox","fill","d"],"sourceRoot":""}