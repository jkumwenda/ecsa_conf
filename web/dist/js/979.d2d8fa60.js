"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[979],{4989:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var a=n(6768),s=n(4232);const o={class:"flex flex-col space-y-4 flex-1"},l={class:"flex flex-col space-y-4"},i={class:"flex justify-between items-center"},r={key:1,class:"rounded-2xl border border-white-600 shadow-sm p-4 text-abbey-500"},d=(0,a.Lk)("div",{class:"flex flex-row bg-shuttle-gray-300 p-2 text-sm font-bold"},[(0,a.Lk)("div",{class:"sm:w-4/12"},"Event type"),(0,a.Lk)("div",{class:"sm:w-7/12"},"Description"),(0,a.Lk)("div",{class:"sm:w-1/12"},"Action")],-1),c={class:"sm:w-4/12"},h={class:"sm:w-7/12"},u={class:"flex space-x-2 sm:w-1/12"},p={key:1,title:"Delete",class:"p-1 border border-flamingo-600 bg-flamingo-400 rounded-full cursor-pointer"};function g(e,t,n,g,v,m){const w=(0,a.g2)("HeaderView"),f=(0,a.g2)("search-component"),y=(0,a.g2)("router-link"),E=(0,a.g2)("SpinnerComponent"),b=(0,a.g2)("PencilSquareIcon"),C=(0,a.g2)("TrashIcon"),k=(0,a.g2)("pagination-component"),x=(0,a.g2)("delete-confirmation-modal");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(w,{headerTitle:v.headerTitle},null,8,["headerTitle"]),(0,a.Lk)("div",l,[(0,a.Lk)("div",i,[(0,a.bF)(f,{onSearch:m.handleSearch},null,8,["onSearch"]),g.permissions.includes("ADD_EVENT_TYPE")?((0,a.uX)(),(0,a.Wv)(y,{key:0,to:{name:"AddEventType"},class:"mt-2 px-4 py-2 text-white-200 bg-bondi-blue-500 hover:bg-bondi-blue-400 rounded-2xl"},{default:(0,a.k6)((()=>[(0,a.eW)(" Add Event type")])),_:1})):(0,a.Q3)("",!0)]),v.isLoading?((0,a.uX)(),(0,a.Wv)(E,{key:0})):((0,a.uX)(),(0,a.CE)("div",r,[d,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v.event_types,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,s.C4)(["flex flex-row p-2 text-sm items-center",m.getRowClass(t)]),key:e.id},[(0,a.Lk)("div",c,(0,s.v_)(e.event_type),1),(0,a.Lk)("div",h,(0,s.v_)(e.description),1),(0,a.Lk)("div",u,[g.permissions.includes("UPDATE_EVENT_TYPE")?((0,a.uX)(),(0,a.Wv)(y,{key:0,title:"Edit",class:"p-1 bg-mountain-meadow-300 border border-mountain-meadow-700 rounded-full",to:{name:"EditEventType",params:{id:e.id}}},{default:(0,a.k6)((()=>[(0,a.bF)(b,{class:"w-5 h-5 text-mountain-meadow-900"})])),_:2},1032,["to"])):(0,a.Q3)("",!0),g.permissions.includes("DELETE_EVENT_TYPE")?((0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(C,{class:"w-5 h-5 text-flamingo-800",onClick:t=>m.showDeleteConfirmation(e.id)},null,8,["onClick"])])):(0,a.Q3)("",!0)])],2)))),128)),(0,a.bF)(k,{currentPage:v.currentPage,totalPages:v.totalPages,onPageChange:m.handlePageChange},null,8,["currentPage","totalPages","onPageChange"])]))]),(0,a.bF)(x,{show:v.showDeleteModal,onConfirmed:t[0]||(t[0]=t=>m.deleteEventType(e.deleteEventTypeId)),onCanceled:m.cancelDelete},null,8,["show","onCanceled"])])}var v=n(3672),m=n(9336),w=n(7612),f=n(8776),y=n(2464),E=n(133),b=n(2521),C=n(7023),k=n(6826),x={name:"EventTypesView",components:{PencilSquareIcon:m.A,TrashIcon:w.A,PaginationComponent:f.A,SearchComponent:y.A,HeaderView:v.A,SpinnerComponent:b.A,DeleteConfirmationModal:C.A},data(){return{headerTitle:"Event Type",event_types:{},isLoading:!0,showDeleteModal:!1,deletePersonnelId:null,currentPage:1,totalPages:"",pageSize:"10",searchPhrase:""}},mounted(){this.getEventTypes()},setup(){const e=(0,k.n)(),t=e.permissions;return{permissions:t}},methods:{async getEventTypes(){try{const e=await(0,E.Fd)("event_types",this.currentPage,this.pageSize,this.searchPhrase);this.event_types=e.data,this.totalPages=e.pages,this.isLoading=!1}catch(e){console.error("Error fetching event types:",e),this.isLoading=!1}},async handleSearch(e){this.searchPhrase=e,this.getEventTypes()},async handlePageChange(e){this.currentPage=e,this.getEventTypes()},async deleteEventType(e){this.isLoading=!0;try{await(0,E.LD)("event_types",e);const t=this.event_types.findIndex((t=>t.id===e));-1!==t&&this.event_types.splice(t,1),this.showDeleteModal=!1,this.isLoading=!1}catch(t){console.error("Error fetching event types:",t),this.isLoading=!1,this.showDeleteModal=!1}},showDeleteConfirmation(e){this.deleteEventTypeId=e,this.showDeleteModal=!0},cancelDelete(){this.showDeleteModal=!1},getRowClass(e){return e%2===0?"bg-st-tropaz-100":"bg-shuttle-gray-100"}}},P=n(1241);const T=(0,P.A)(x,[["render",g]]);var L=T},9336:function(e,t,n){n.d(t,{A:function(){return s}});var a=n(6768);function s(e,t){return(0,a.uX)(),(0,a.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,a.Lk)("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),(0,a.Lk)("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})])}},7612:function(e,t,n){n.d(t,{A:function(){return s}});var a=n(6768);function s(e,t){return(0,a.uX)(),(0,a.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,a.Lk)("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})])}}}]);
//# sourceMappingURL=979.d2d8fa60.js.map