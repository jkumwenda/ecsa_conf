"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[74],{4018:function(e,s,o){o.r(s),o.d(s,{default:function(){return P}});var t=o(6768),r=o(4232),a=o(5130);const n={class:"sm:flex sm:flex-row flex flex-col flex-1 justify-center items-center"},l={class:"sm:w-7/12 w-11/12 flex flex-col sm:space-y-4 space-y-2 rounded-2xl p-8 bg-ghost-300 drop-shadow-md"},i=(0,t.Lk)("div",{class:"font-bold font-archivo text-ghost-900 text-3xl"},"Sign in",-1),d=(0,t.Lk)("div",{class:"p-4 text-md border border-solid border-great-blue-400 bg-great-blue-50 text-great-blue rounded-2xl font-roboto"}," Sign in to Confirm Attendance or Register for Event Participation",-1),c={key:0,class:"text-flamingo-500"},u={class:"block"},p={class:"block"},m=(0,t.Lk)("div",{class:"flex sm:flex-row flex-col sm:space-x-4 space-y-2"},[(0,t.Lk)("button",{type:"submit",class:"flex-1 px-8 py-4 text-white-50 font-bold rounded-2xl bg-bondi-blue text-stone-100 hover:bg-bondi-blue-600"}," Sign in ")],-1),b={class:"flex flex-row sm:space-x-4 justify-center"},f=(0,t.Lk)("span",null,"|",-1),g=(0,t.Lk)("span",{class:""},"Need help? ",-1),h={class:"flex sm:flex-row flex-col sm:space-x-4 space-y-2 justify-center"},x={class:""};function w(e,s,o,w,k,y){const L=(0,t.g2)("SpinnerComponent"),v=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("div",l,[i,d,k.message?((0,t.uX)(),(0,t.CE)("div",c,(0,r.v_)(k.message),1)):(0,t.Q3)("",!0),k.isLoading?((0,t.uX)(),(0,t.Wv)(L,{key:1})):((0,t.uX)(),(0,t.CE)("form",{key:2,class:"flex flex-col space-y-4",onSubmit:s[2]||(s[2]=(0,a.D$)(((...e)=>y.submitLoginForm&&y.submitLoginForm(...e)),["prevent"])),method:"POST"},[(0,t.Lk)("label",u,[(0,t.bo)((0,t.Lk)("input",{type:"email",name:"email","onUpdate:modelValue":s[0]||(s[0]=e=>k.userData.username=e),class:"mt-2 p-4 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block w-full rounded-2xl sm:text-sm focus:ring-1",placeholder:"Email",required:""},null,512),[[a.Jo,k.userData.username]])]),(0,t.Lk)("label",p,[(0,t.bo)((0,t.Lk)("input",{type:"password",name:"password","onUpdate:modelValue":s[1]||(s[1]=e=>k.userData.password=e),class:"mt-2 p-4 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block w-full rounded-2xl sm:text-sm focus:ring-1",placeholder:"Password",required:""},null,512),[[a.Jo,k.userData.password]])]),m,(0,t.Lk)("div",b,[(0,t.bF)(v,{to:{name:"ResetPassword"},class:"cursor-poiter text-bondi-blue-500 font-bold cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.eW)(" Forgot your password? ")])),_:1}),f,g]),(0,t.Lk)("div",h,[(0,t.Lk)("p",x,[(0,t.eW)(" New to this website "),(0,t.bF)(v,{to:{name:"Register"},class:"cursor-poiter text-bondi-blue-500 font-bold cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.eW)("Register")])),_:1})])])],32))])])}o(4114),o(4603),o(7566),o(8721);var k=o(4373);const y=k.A.create({baseURL:"https://185.135.137.170:8080"});const L=async(e,s)=>{try{const o=new URLSearchParams;o.append("grant_type",""),o.append("username",s.username),o.append("password",s.password),o.append("scope",""),o.append("client_id",""),o.append("client_secret","");const t=await y.post(e,o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return t.data}catch(o){throw console.error("Login error:",o),o}};var v=o(2521),C=o(1617),S=o(6826),A=o(133),D={name:"LoginView",components:{SpinnerComponent:v.A},data(){return{userData:{username:"",password:""},SpinnerComponent:v.A,message:null,isLoading:!1}},methods:{async submitLoginForm(){this.isLoading=!0;try{const e=await L("auth/login",this.userData),s=(0,S.n)();s.setUser(e.user),s.setPermissions(e.permissions),s.setAccessToken(e.access_token),(0,A.O5)(),this.isLoading=!1,this.$nextTick((()=>{C.A.push("/dashboard")}))}catch(e){this.message="Invalid username or password!",this.isLoading=!1}}}},_=o(1241);const F=(0,_.A)(D,[["render",w]]);var P=F}}]);
//# sourceMappingURL=74.c697ceba.js.map