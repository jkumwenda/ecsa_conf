"use strict";(self["webpackChunkecsaconm_event"]=self["webpackChunkecsaconm_event"]||[]).push([[840],{9162:function(e,t,s){s.d(t,{A:function(){return A}});var a=s(641),n=s(33);const r={class:"flex flex-row p-4 bg-catalina-blue rounded-2xl border-b-4 border-abbey-400"},i={class:"flex flex-row flex-1 justify-between space-x-2 items-center"},o={class:"flex flex-row items-center font-bold space-x-4"},l={class:"sm:text-xl text-md text-abbey-600"},c={class:"flex items-center space-x-4 justify-end"};function d(e,t,s,d,p,u){const x=(0,a.g2)("Bars3CenterLeftIcon"),f=(0,a.g2)("EnvelopeIcon"),m=(0,a.g2)("router-link"),v=(0,a.g2)("ProfileComponent");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",i,[(0,a.Lk)("div",o,[(0,a.bF)(x,{class:"h-8 w-8 text-bondi-blue-500"}),(0,a.Lk)("span",l,(0,n.v_)(s.headerTitle),1)]),(0,a.Lk)("div",c,[(0,a.bF)(m,{to:{name:"Contacts"},class:"flex flex-row items-center"},{default:(0,a.k6)((()=>[(0,a.bF)(f,{class:"w-6 h-6 text-bondi-blue-500"})])),_:1}),(0,a.bF)(v,{label:`${e.firstname} ${e.lastname}`},null,8,["label"])])])])}var p=s(2690);function u(e,t){return(0,a.uX)(),(0,a.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,a.Lk)("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),(0,a.Lk)("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"})])}const x={class:"relative inline-block text-left"},f={class:"text-sm text-catskill-white-500"},m={key:0,class:"origin-top-right absolute right-0 mt-2 w-32 rounded-xl shadow-lg bg-bondi-blue-50"},v={class:"py-2 space-y-2",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"};function g(e,t,s,r,i,o){const l=(0,a.g2)("UserCircleIcon");return(0,a.uX)(),(0,a.CE)("div",x,[(0,a.Lk)("div",{onClick:t[0]||(t[0]=e=>i.isOpen=!i.isOpen),class:"flex flex-row items-center space-x-2 cursor-pointer"},[(0,a.bF)(l,{class:"w-8 h-8 text-bondi-blue-700"}),(0,a.Lk)("span",f,(0,n.v_)(r.loginUser.firstname)+" "+(0,n.v_)(r.loginUser.lastname),1)]),i.isOpen?((0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("div",v,[(0,a.Lk)("a",{onClick:t[1]||(t[1]=(...e)=>o.profile&&o.profile(...e)),class:"block px-4 cursor-pointer text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"}," My profile "),(0,a.Lk)("a",{onClick:t[2]||(t[2]=(...e)=>o.logout&&o.logout(...e)),class:"block px-4 cursor-pointer text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"}," Logout ")])])):(0,a.Q3)("",!0)])}s(4114);var b=s(4326);function h(e,t){return(0,a.uX)(),(0,a.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,a.Lk)("path",{"fill-rule":"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z","clip-rule":"evenodd"})])}var k=s(6826),w={name:"ProfileComponent",components:{UserCircleIcon:h},props:{label:String},data(){return{isOpen:!1}},setup(){const e=(0,k.n)(),t=e.loginUser;return{loginUser:t}},methods:{async profile(){b.A.push("/my-profile/"+this.loginUser.id)},async logout(){localStorage.removeItem("authToken"),b.A.push("/")}}},L=s(6262);const y=(0,L.A)(w,[["render",g]]);var C=y,P={name:"HeaderView",components:{Bars3CenterLeftIcon:p.A,EnvelopeIcon:u,ProfileComponent:C},props:{headerTitle:String}};const _=(0,L.A)(P,[["render",d]]);var A=_},7796:function(e,t,s){s.r(t),s.d(t,{default:function(){return j}});var a=s(641),n=s(33),r=s(5572);const i={class:"flex flex-col space-y-4 flex-1"},o={class:"flex sm:flex-row flex-col sm:space-x-4 space-x-0 sm:space-y-0 space-y-4"},l={class:"sm:w-4/12 w-full space-y-1 rounded-2xl border border-white-600 shadow-sm p-4 text-abbey-500"},c=(0,a.Lk)("div",{class:"px-3 p-2 rounded-xl text-white-50 text font-roboto-thin bg-daintree-600"},"Participant Profile ",-1),d=(0,a.Lk)("div",{class:"flex items-center justify-center py-4"},[(0,a.Lk)("img",{src:r,class:"rounded-xl border-4 border-st-tropaz-300 h-48"})],-1),p={class:"flex flex-row p-3 py-1 rounded-md text-sm bg-st-tropaz-100"},u=(0,a.Lk)("div",{class:"w-3/12 text-st-tropaz-900 font-bold"},"Name",-1),x={class:"flex-1"},f={class:"uppercase"},m={class:"flex flex-row p-3 py-1 rounded-md text-sm bg-st-tropaz-100"},v=(0,a.Lk)("div",{class:"w-3/12 text-st-tropaz-900 font-bold"},"Phone",-1),g={class:"flex-1"},b={class:"flex flex-row p-3 py-1 rounded-md text-sm bg-st-tropaz-100"},h=(0,a.Lk)("div",{class:"w-3/12 text-st-tropaz-900 font-bold"},"Email",-1),k={class:"flex-1"},w={class:"flex flex-row p-3 py-1 rounded-md text-sm bg-st-tropaz-100"},L=(0,a.Lk)("div",{class:"w-3/12 text-st-tropaz-900 font-bold"},"Institution",-1),y={class:"flex-1"},C={class:"flex flex-row p-3 py-1 rounded-md text-sm bg-st-tropaz-100"},P=(0,a.Lk)("div",{class:"w-3/12 text-st-tropaz-900 font-bold"},"Country",-1),_={class:"flex-1"},A={class:"flex flex-row py-1 rounded-md text-sm"},E={class:"flex-1 space-y-2 rounded-2xl border border-white-600 shadow-sm p-4 text-abbey-500"},I=(0,a.Lk)("div",{class:"px-3 p-2 rounded-xl text-white-50 text font-roboto-thin te bg-daintree-600"},"Participant Event List ",-1),z={key:0},T={class:"flex-1"},X={class:"text-flamingo font-semibold"},U={class:"flex"},F=(0,a.Lk)("div",{class:"p-4 block text-center italic text-flamingo-700"},"--Participant has not events--",-1);function S(e,t,s,r,S,D){const V=(0,a.g2)("HeaderView"),W=(0,a.g2)("router-link"),B=(0,a.g2)("SpinnerComponent"),M=(0,a.g2)("CheckBadgeIcon"),Z=(0,a.g2)("XCircleIcon");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(V,{headerTitle:S.headerTitle},null,8,["headerTitle"]),(0,a.Lk)("div",o,[(0,a.Lk)("div",l,[c,d,(0,a.Lk)("div",p,[u,(0,a.Lk)("div",x,[(0,a.eW)(": "+(0,n.v_)(S.participant.title)+" ",1),(0,a.Lk)("span",f,(0,n.v_)(S.participant.firstname),1),(0,a.eW)(" "+(0,n.v_)(S.participant.lastname),1)])]),(0,a.Lk)("div",m,[v,(0,a.Lk)("div",g,": "+(0,n.v_)(S.participant.phone),1)]),(0,a.Lk)("div",b,[h,(0,a.Lk)("div",k,": "+(0,n.v_)(S.participant.email),1)]),(0,a.Lk)("div",w,[L,(0,a.Lk)("div",y,": "+(0,n.v_)(S.participant.institution),1)]),(0,a.Lk)("div",C,[P,(0,a.Lk)("div",_,": "+(0,n.v_)(S.participant.country),1)]),(0,a.Lk)("div",A,[r.permissions.includes("UPDATE_PARTICIPANT")?((0,a.uX)(),(0,a.Wv)(W,{key:0,to:{name:"EditParticipant",params:{id:e.participant_id}},class:"mt-2 px-4 py-2 text-white-100 bg-bondi-blue hover:bg-bondi-blue-400 rounded-xl"},{default:(0,a.k6)((()=>[(0,a.eW)("Update Profile")])),_:1},8,["to"])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",E,[I,S.events>0?((0,a.uX)(),(0,a.CE)("div",z,[S.isLoading?((0,a.uX)(),(0,a.Wv)(B,{key:0})):((0,a.uX)(!0),(0,a.CE)(a.FK,{key:1},(0,a.pI)(S.events,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["flex flex-row px-3 py-1 items-center space-x-4 border-2 border-shuttle-gray-200 rounded-xl text-sm",D.getRowClass(t)]),key:e.id},[(0,a.eW)((0,n.v_)(S.events)+" ",1),(0,a.Lk)("div",T,(0,n.v_)(e.event),1),(0,a.Lk)("div",X,(0,n.v_)(D.formatDate(e.updated_date)),1),(0,a.Lk)("div",U,[(0,a.bF)(M,{class:"text-mountain-meadow-900 w-8 h-8"}),(0,a.bF)(Z,{class:"text-flamingo w-8 h-8"})])],2)))),128))])):(0,a.Q3)("",!0),F])])])}var D=s(133),V=s(9162),W=s(2521),B=s(6826),M={name:"ParticipantView",components:{HeaderView:V.A,SpinnerComponent:W.A},data(){return{headerTitle:"Participant details",id:this.$route.params.id,isLoading:!0,participant:{},events:{},currentPage:1,totalPages:"",pageSize:"10",searchPhrase:""}},mounted(){this.getParticipant()},setup(){const e=(0,B.n)(),t=e.permissions;return{permissions:t}},methods:{async getParticipant(){try{const e=await(0,D.Gk)("participants",this.id);this.participant=e.participant,this.events=e.events,this.isLoading=!1}catch(e){console.error("Error fetching participants:",e),this.isLoading=!1}},getRowClass(e){return e%2===0?"bg-athens-gray-400":"bg-athens-gray-100"},formatDate(e){const t=new Date(e),s=t.toLocaleString("en-UK",{day:"2-digit",month:"2-digit",year:"numeric"});return s},formartStatus(e){const t=new Date(e),s=new Date;return t.getTime()>s.getTime()?"Active":"Expired"}}},Z=s(6262);const O=(0,Z.A)(M,[["render",S]]);var j=O},5572:function(e,t,s){e.exports=s.p+"img/profile.65d03951.png"}}]);
//# sourceMappingURL=840.f903618a.js.map