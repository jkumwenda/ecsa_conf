"use strict";(self["webpackChunkecsaconm_event"]=self["webpackChunkecsaconm_event"]||[]).push([[974],{5598:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var a=n(641),o=n(33),s=n(3751);const i={class:"flex flex-col space-y-6 flex-1 items-center"},r={key:1,class:"flex flex-col w-11/12 justify-center items-center space-y-4"},d={class:"flex flex-row sm:w-10/12 w-full border-2 border-abbey-500 rounded-xl text-center py-2"},c={class:"flex flex-col w-full space-y-2"},l={class:"font-roboto-light text-bondi-blue-500 text-xl p-4"},m={class:"font-roboto-light text-md"},u={class:"font-roboto-light text-md"},f=(0,a.Lk)("span",{class:"font-bold"},"Reg date:",-1),v=(0,a.Lk)("h1",{class:"px-4 py-2 bg-abbey-500 font-bold text-white-100"},"Confirm Attendance",-1),b={class:"flex flex-col"},h={class:"flex flex-col px-4 items-center justify-center"},p={key:0,class:"p-1 px-4 rounded-md text-sm bg-bondi-blue-200 border border-bondi-blue-400 text-bondi-blue-800"},g=(0,a.Lk)("span",{class:"font-roboto-light text-sm"},"Enter ID # to confirm attendance",-1),x=(0,a.Lk)("button",{type:"submit",class:"mt-2 px-4 py-2 text-sm text-white-100 bg-abbey-600 hover:bg-abbey-400 rounded-md"}," Confirm Attendance ",-1),y=(0,a.Lk)("div",null,null,-1);function k(e,t,n,k,L,w){const _=(0,a.g2)("SpinnerComponent");return(0,a.uX)(),(0,a.CE)("div",i,[L.isLoading?((0,a.uX)(),(0,a.Wv)(_,{key:0})):((0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",d,[(0,a.Lk)("div",c,[(0,a.Lk)("div",l,(0,o.v_)(L.event.event),1),(0,a.Lk)("div",m,(0,o.v_)(w.formatDate(L.event.start_date))+" - "+(0,o.v_)(w.formatDate(L.event.end_date)),1),(0,a.Lk)("div",u,[f,(0,a.eW)(" "+(0,o.v_)(w.formattedDate),1)]),v,(0,a.Lk)("div",b,[(0,a.Lk)("div",h,[L.message?((0,a.uX)(),(0,a.CE)("div",p,(0,o.v_)(L.message),1)):(0,a.Q3)("",!0),(0,a.Lk)("form",{onSubmit:t[1]||(t[1]=(0,s.D$)(((...e)=>w.confirmAttendance&&w.confirmAttendance(...e)),["prevent"])),method:"POST",class:"sm:w-12/12 bg-ghost-300 p-2 px-6 rounded-xl my-4"},[g,(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>L.attendanceConfirmData.user_id=e),class:"mt-2 px-4 py-2 bg-white border border-1 shadow-sm border-abbey-400 placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-sky-500 block w-full rounded-md sm:text-sm focus:ring-1",placeholder:"Identification Number"},null,512),[[s.Jo,L.attendanceConfirmData.user_id]]),x],32)])])])]),y]))])}var L=n(133),w=n(2521),_={name:"AttendanceView",components:{SpinnerComponent:w.A},data(){return{headerTitle:"Event Attendance Register",eventId:this.$route.params.eventId,event:{},appUrl:"https://events.ecsaconm.org",apiUrl:"https://185.135.137.170:8080",isLoading:!0,today:new Date,attendanceConfirmData:{event_id:"",user_id:""},message:null}},computed:{formattedDate(){return this.today.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}},mounted(){this.getEventAttendance()},methods:{async getEventAttendance(){try{const e=await(0,L.Gk)("events/event",this.eventId);this.event=e.event,this.isLoading=!1}catch(e){console.error("Error fetching event:",e),this.isLoading=!1}},async confirmAttendance(){this.attendanceConfirmData.event_id=this.eventId,this.isLoading=!0;try{const e=await(0,L.wE)("events/confirm_event_attendance/",this.attendanceConfirmData);this.events=e.data,this.isLoading=!1,this.getUserEvent()}catch(e){this.message=e.response.data.detail,this.isLoading=!1}},formatDate(e){const t=new Date(e);return t.toLocaleString("en-UK",{day:"2-digit",month:"2-digit",year:"numeric"})}}},D=n(6262);const C=(0,D.A)(_,[["render",k]]);var A=C}}]);
//# sourceMappingURL=974.d29fee6a.js.map