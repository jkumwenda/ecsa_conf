{"version":3,"file":"js/779.08c34a4f.js","mappings":"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","sources":["webpack://web/./src/views/main/events/Events.vue","webpack://web/./node_modules/@heroicons/vue/24/solid/esm/UserIcon.js","webpack://web/./src/views/main/events/Events.vue?4f54","webpack://web/./node_modules/@heroicons/vue/24/solid/esm/MapPinIcon.js"],"sourcesContent":["<template>\n    <div class=\"flex flex-col space-y-4 flex-1\">\n        <HeaderView :headerTitle=\"headerTitle\"></HeaderView>\n        <div class=\"flex flex-col space-y-4\">\n            <div class=\"flex justify-between items-center\">\n                <search-component @search=\"handleSearch\"></search-component>\n                <router-link :to=\"{ name: 'AddEvent' }\" v-if=\"permissions.includes('ADD_EVENT')\"\n                    class=\"mt-2 px-4 py-2 text-white-200 bg-bondi-blue-500 hover:bg-bondi-blue-400 rounded-2xl\">\n                    Add Event</router-link>\n            </div>\n            <SpinnerComponent v-if=\"isLoading\" />\n            <div v-else class=\"rounded-2xl border border-white-600 shadow-sm text-abbey-500\">\n                <div class=\"flex\">\n                    <div class=\"sm:w-4/12\" v-for=\"(event) in events\" :key=\"event.id\">\n                        <div class=\"flex flex-col flex-1 m-4 text-sm rounded-2xl border-2 border-bondi-blue-500\">\n                            <router-link :to=\"{ name: 'Event', params: { id: event.id } }\" class=\"p-3\" title=\"Event\">\n                                <div>{{ event.event }}</div>\n                            </router-link>\n                            <div class=\"bg-bondi-blue-500 rounded-b-xl\">\n                                <div\n                                    class=\"flex flex-col space-y-2 text-white font-roboto-thin border-b border-bondi-blue-400 p-3\">\n                                    <div class=\"flex flex-row items-center space-x-3\" title=\"Event date\">\n                                        <CalendarDaysIcon class=\"w-5 h-5 text-bondi-blue-50\"></CalendarDaysIcon>\n                                        <span>{{ event.start_date }}</span>\n                                    </div>\n                                    <div class=\"flex flex-row items-center space-x-3\" title=\"Location\">\n                                        <MapPinIcon class=\"w-5 h-5 text-bondi-blue-50\"></MapPinIcon><span>{{\n                                            event.location\n                                            }}</span>\n                                    </div>\n                                    <div class=\"flex flex-row items-center space-x-3\" title=\"Organiser\">\n                                        <UserIcon class=\"w-5 h-5 text-bondi-blue-50\"></UserIcon><span>{{\n                                            event.organiser.organiser\n                                            }}</span>\n                                    </div>\n                                </div>\n\n                                <div class=\"flex space-x-2 px-4 p-1 font-semibold font-roboto-thin sm:w-2/12\">\n                                    <router-link title=\"Edit\" v-if=\"permissions.includes('UPDATE_EVENT')\"\n                                        class=\"p-1 px-3 text-mountain-meadow-900 bg-mountain-meadow-300 border border-mountain-meadow-800  rounded-xl\"\n                                        :to=\"{ name: 'EditEvent', params: { id: event.id } }\">Edit\n                                    </router-link>\n                                    <div title=\"Delete\" v-if=\"permissions.includes('DELETE_EVENT')\"\n                                        @click=\"showDeleteConfirmation(event.id)\"\n                                        class=\"p-1 px-3 border text-flamingo-900 border-flamingo-700 bg-flamingo-400 rounded-xl cursor-pointer\">\n                                        Delete\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"px-4\">\n                    <pagination-component :currentPage=\"currentPage\" :totalPages=\"totalPages\"\n                        @page-change=\"handlePageChange\">\n                    </pagination-component>\n                </div>\n            </div>\n        </div>\n        <delete-confirmation-modal :show=\"showDeleteModal\" @confirmed=\"deleteEvent(deleteEventId)\"\n            @canceled=\"cancelDelete\"></delete-confirmation-modal>\n    </div>\n</template>\n\n<script>\nimport HeaderView from '@/includes/Header.vue'\nimport { MapPinIcon, CalendarDaysIcon, UserIcon } from '@heroicons/vue/24/solid'\nimport PaginationComponent from '@/components/PaginationComponent.vue'\nimport SearchComponent from '@/components/SearchComponent.vue'\n\nimport { fetchData, deleteItem } from \"@/services/apiService\";\nimport SpinnerComponent from \"@/components/Spinner.vue\";\nimport DeleteConfirmationModal from \"@/components/DeleteConfirmationModal.vue\";\nimport { useAuthStore } from \"@/store/authStore\";\n\nexport default {\n    name: 'EventsView',\n    components: {\n        MapPinIcon, CalendarDaysIcon, UserIcon, PaginationComponent, SearchComponent, HeaderView, SpinnerComponent, DeleteConfirmationModal\n    },\n    data() {\n        return {\n            headerTitle: \"Events\",\n            events: {},\n            isLoading: true,\n            showDeleteModal: false,\n            deleteEventId: null,\n            currentPage: 1,\n            totalPages: \"\",\n            pageSize: process.env.VUE_APP_PAGE_SIZE,\n            searchPhrase: \"\"\n        };\n    },\n    mounted() {\n        this.getEvents();\n    },\n    setup() {\n        const authStore = useAuthStore()\n        const permissions = authStore.permissions\n        return { permissions }\n    },\n    methods: {\n        async getEvents() {\n            try {\n                const response = await fetchData(\"events\", this.currentPage, this.pageSize, this.searchPhrase);\n                this.events = response.data;\n                this.totalPages = response.pages;\n                this.isLoading = false;\n            } catch (error) {\n                console.error(\"Error fetching events:\", error);\n                this.isLoading = false;\n            }\n        },\n        async handleSearch(searchQuery) {\n            this.searchPhrase = searchQuery\n            this.getEvents();\n        },\n        async handlePageChange(newPage) {\n            this.currentPage = newPage;\n            this.getEvents();\n        },\n        async deleteEvent(id) {\n            this.isLoading = true;\n            try {\n                await deleteItem(\"events\", id);\n                const index = this.events.findIndex((event) => event.id === id);\n                if (index !== -1) {\n                    this.events.splice(index, 1);\n                }\n                this.showDeleteModal = false;\n                this.isLoading = false;\n            } catch (error) {\n                console.error(\"Error fetching events:\", error);\n                this.isLoading = false;\n                this.showDeleteModal = false;\n            }\n        },\n        showDeleteConfirmation(id) {\n            this.deleteEventId = id;\n            this.showDeleteModal = true;\n        },\n        cancelDelete() {\n            this.showDeleteModal = false;\n        },\n        getRowClass(index) {\n            return index % 2 === 0 ? 'bg-st-tropaz-100' : 'bg-shuttle-gray-50';\n        },\n    }\n}\n</script>","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}","import { render } from \"./Events.vue?vue&type=template&id=3f0bec02\"\nimport script from \"./Events.vue?vue&type=script&lang=js\"\nexport * from \"./Events.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}"],"names":["class","key","title","_createElementBlock","_hoisted_1","_createVNode","_component_HeaderView","headerTitle","$data","_createElementVNode","_hoisted_2","_hoisted_3","_component_search_component","onSearch","$options","handleSearch","$setup","permissions","includes","_createBlock","_component_router_link","to","name","default","_withCtx","_createTextVNode","_","_createCommentVNode","isLoading","_component_SpinnerComponent","_hoisted_4","_hoisted_5","_Fragment","_renderList","events","event","id","_hoisted_6","params","_toDisplayString","_hoisted_7","_hoisted_8","_hoisted_9","_component_CalendarDaysIcon","start_date","_hoisted_10","_component_MapPinIcon","location","_hoisted_11","_component_UserIcon","organiser","_hoisted_12","onClick","$event","showDeleteConfirmation","_hoisted_13","_hoisted_14","_component_pagination_component","currentPage","totalPages","onPageChange","handlePageChange","_component_delete_confirmation_modal","show","showDeleteModal","onConfirmed","_cache","deleteEvent","deleteEventId","onCanceled","cancelDelete","render","_ctx","_openBlock","xmlns","viewBox","fill","d","components","MapPinIcon","CalendarDaysIcon","UserIcon","PaginationComponent","SearchComponent","HeaderView","SpinnerComponent","DeleteConfirmationModal","data","pageSize","process","searchPhrase","mounted","this","getEvents","setup","authStore","useAuthStore","methods","response","fetchData","pages","error","console","searchQuery","newPage","deleteItem","index","findIndex","splice","getRowClass","__exports__"],"sourceRoot":""}