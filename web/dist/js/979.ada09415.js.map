{"version":3,"file":"js/979.ada09415.js","mappings":"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","sources":["webpack://web/./src/views/main/configurations/event-types/EventTypes.vue","webpack://web/./src/views/main/configurations/event-types/EventTypes.vue?890c"],"sourcesContent":["<template>\n    <div class=\"flex flex-col space-y-4 flex-1\">\n        <HeaderView :headerTitle=\"headerTitle\"></HeaderView>\n        <div class=\"flex flex-col space-y-4\">\n            <div class=\"flex justify-between items-center\">\n                <search-component @search=\"handleSearch\"></search-component>\n                <router-link :to=\"{ name: 'AddEventType' }\" v-if=\"permissions.includes('ADD_EVENT_TYPE')\"\n                    class=\"mt-2 px-4 py-2 text-white-200 bg-bondi-blue-500 hover:bg-bondi-blue-400 rounded-2xl\">\n                    Add Event type</router-link>\n            </div>\n            <SpinnerComponent v-if=\"isLoading\" />\n            <div v-else class=\"rounded-2xl border border-white-600 shadow-sm p-4 text-abbey-500\">\n                <div class=\"flex flex-row bg-shuttle-gray-300 p-2 text-sm font-bold\">\n                    <div class=\"sm:w-4/12\">Event type</div>\n                    <div class=\"sm:w-7/12\">Description</div>\n                    <div class=\"sm:w-1/12\">Action</div>\n                </div>\n                <div class=\"flex flex-row p-2 text-sm items-center\" v-for=\"(event_type, index) in event_types\"\n                    :key=\"event_type.id\" :class=\"getRowClass(index)\">\n                    <div class=\"sm:w-4/12\">{{ event_type.event_type }}</div>\n                    <div class=\"sm:w-7/12\">{{ event_type.description }}</div>\n                    <div class=\"flex space-x-2 sm:w-1/12\">\n                        <router-link v-if=\"permissions.includes('UPDATE_EVENT_TYPE')\" title=\"Edit\"\n                            class=\"p-1 bg-mountain-meadow-300 border border-mountain-meadow-700 rounded-full\"\n                            :to=\"{ name: 'EditEventType', params: { id: event_type.id } }\">\n                            <PencilSquareIcon class=\" w-5 h-5 text-mountain-meadow-900\">\n                            </PencilSquareIcon>\n                        </router-link>\n                        <div v-if=\"permissions.includes('DELETE_EVENT_TYPE')\" title=\"Delete\"\n                            class=\"p-1 border border-flamingo-600 bg-flamingo-400 rounded-full cursor-pointer\">\n                            <TrashIcon class=\"w-5 h-5 text-flamingo-800\" @click=\"showDeleteConfirmation(event_type.id)\">\n                            </TrashIcon>\n                        </div>\n                    </div>\n                </div>\n                <pagination-component :currentPage=\"currentPage\" :totalPages=\"totalPages\"\n                    @page-change=\"handlePageChange\">\n                </pagination-component>\n            </div>\n        </div>\n        <delete-confirmation-modal :show=\"showDeleteModal\" @confirmed=\"deleteEventType(deleteEventTypeId)\"\n            @canceled=\"cancelDelete\"></delete-confirmation-modal>\n    </div>\n</template>\n\n<script>\nimport HeaderView from '@/includes/Header.vue'\nimport { PencilSquareIcon, TrashIcon } from '@heroicons/vue/24/solid'\nimport PaginationComponent from '@/components/PaginationComponent.vue'\nimport SearchComponent from '@/components/SearchComponent.vue'\n\nimport { fetchData, deleteItem } from \"@/services/apiService\";\nimport SpinnerComponent from \"@/components/Spinner.vue\";\nimport DeleteConfirmationModal from \"@/components/DeleteConfirmationModal.vue\";\nimport { useAuthStore } from \"@/store/authStore\";\n\nexport default {\n    name: 'EventTypesView',\n    components: {\n        PencilSquareIcon, TrashIcon, PaginationComponent, SearchComponent, HeaderView, SpinnerComponent, DeleteConfirmationModal\n    },\n    data() {\n        return {\n            headerTitle: \"Event Type\",\n            event_types: {},\n            isLoading: true,\n            showDeleteModal: false,\n            deletePersonnelId: null,\n            currentPage: 1,\n            totalPages: \"\",\n            pageSize: process.env.VUE_APP_PAGE_SIZE,\n            searchPhrase: \"\"\n        };\n    },\n    mounted() {\n        this.getEventTypes();\n    },\n    setup() {\n        const authStore = useAuthStore()\n        const permissions = authStore.permissions\n        return { permissions }\n    },\n    methods: {\n        async getEventTypes() {\n            try {\n                const response = await fetchData(\"event_types\", this.currentPage, this.pageSize, this.searchPhrase);\n                this.event_types = response.data;\n                this.totalPages = response.pages;\n                this.isLoading = false;\n            } catch (error) {\n                console.error(\"Error fetching event types:\", error);\n                this.isLoading = false;\n            }\n        },\n        async handleSearch(searchQuery) {\n            this.searchPhrase = searchQuery\n            this.getEventTypes();\n        },\n        async handlePageChange(newPage) {\n            this.currentPage = newPage;\n            this.getEventTypes();\n        },\n        async deleteEventType(id) {\n            this.isLoading = true;\n            try {\n                await deleteItem(\"event_types\", id);\n                const index = this.event_types.findIndex((event_type) => event_type.id === id);\n                if (index !== -1) {\n                    this.event_types.splice(index, 1);\n                }\n                this.showDeleteModal = false;\n                this.isLoading = false;\n            } catch (error) {\n                console.error(\"Error fetching event types:\", error);\n                this.isLoading = false;\n                this.showDeleteModal = false;\n            }\n        },\n        showDeleteConfirmation(id) {\n            this.deleteEventTypeId = id;\n            this.showDeleteModal = true;\n        },\n        cancelDelete() {\n            this.showDeleteModal = false;\n        },\n        getRowClass(index) {\n            return index % 2 === 0 ? 'bg-st-tropaz-100' : 'bg-shuttle-gray-100';\n        },\n    }\n}\n</script>","import { render } from \"./EventTypes.vue?vue&type=template&id=5409a91b\"\nimport script from \"./EventTypes.vue?vue&type=script&lang=js\"\nexport * from \"./EventTypes.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementVNode","title","_createElementBlock","_hoisted_1","_createVNode","_component_HeaderView","headerTitle","$data","_hoisted_2","_hoisted_3","_component_search_component","onSearch","$options","handleSearch","$setup","permissions","includes","_createBlock","_component_router_link","to","name","default","_withCtx","_createTextVNode","_","_createCommentVNode","isLoading","_component_SpinnerComponent","_hoisted_4","_hoisted_5","_Fragment","_renderList","event_types","event_type","index","_normalizeClass","getRowClass","id","_hoisted_6","_toDisplayString","_hoisted_7","description","_hoisted_8","params","_component_PencilSquareIcon","_hoisted_9","_component_TrashIcon","onClick","$event","showDeleteConfirmation","_component_pagination_component","currentPage","totalPages","onPageChange","handlePageChange","_component_delete_confirmation_modal","show","showDeleteModal","onConfirmed","_cache","deleteEventType","_ctx","deleteEventTypeId","onCanceled","cancelDelete","components","PencilSquareIcon","TrashIcon","PaginationComponent","SearchComponent","HeaderView","SpinnerComponent","DeleteConfirmationModal","data","deletePersonnelId","pageSize","process","searchPhrase","mounted","this","getEventTypes","setup","authStore","useAuthStore","methods","response","fetchData","pages","error","console","searchQuery","newPage","deleteItem","findIndex","splice","__exports__","render"],"sourceRoot":""}