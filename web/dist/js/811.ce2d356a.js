"use strict";(self["webpackChunkecsaconm_event"]=self["webpackChunkecsaconm_event"]||[]).push([[811],{7023:function(e,t,s){s.d(t,{A:function(){return b}});var o=s(6768),a=s(4232);const r={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},n={class:"flex flex-col justify-center items-center border border-abbey-500 border-t-4 bg-white-50 rounded-2xl shadow-lg p-4 w-96 z-50 text-abbey-500"},l={class:"text-lg font-light mb-4"},i=(0,o.Lk)("p",{class:"text-2xl font-semibold mb-4"},"Are you sure?",-1),d={class:"mb-4"},c={class:"flex justify-end"};function u(e,t,s,u,p,m){const g=(0,o.g2)("XCircleIcon");return s.show?((0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",n,[(0,o.Lk)("p",l,[(0,o.bF)(g,{class:"h-12 w-12 text-flamingo-900"})]),i,(0,o.Lk)("p",d,(0,a.v_)(s.message),1),(0,o.Lk)("div",c,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>m.cancel&&m.cancel(...e)),class:"bg-abbey-50 hover:bg-abbey-100 text-abbey-600 py-1 px-4 rounded-2xl mr-2"}," Cancel "),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>m.confirm&&m.confirm(...e)),class:"bg-flamingo-800 text-white hover:bg-flamingo-600 py-1 px-4 rounded-2xl"}," Delete ")])])])):(0,o.Q3)("",!0)}var p=s(5246),m={components:{XCircleIcon:p.A},props:{show:{type:Boolean,required:!0},message:{type:String,default:"Are you sure you want to delete this item?"}},methods:{confirm(){this.$emit("confirmed")},cancel(){this.$emit("canceled")}}},g=s(1241);const v=(0,g.A)(m,[["render",u]]);var b=v},3664:function(e,t,s){s.d(t,{A:function(){return S}});var o=s(6768),a=s(4232);const r={class:"flex flex-row p-4 bg-catalina-blue rounded-2xl border-b-4 border-abbey-400"},n={class:"flex flex-row flex-1 justify-between space-x-2 items-center"},l={class:"flex flex-row items-center font-bold space-x-4"},i={class:"sm:text-xl text-md text-abbey-600"},d={class:"flex items-center space-x-4 justify-end"},c={class:"flex flex-row items-center"},u={class:"flex flex-row items-center"};function p(e,t,s,p,m,g){const v=(0,o.g2)("Bars3CenterLeftIcon"),b=(0,o.g2)("BellIcon"),f=(0,o.g2)("EnvelopeIcon"),h=(0,o.g2)("ProfileComponent");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",n,[(0,o.Lk)("div",l,[(0,o.bF)(v,{class:"h-8 w-8 text-bondi-blue-500"}),(0,o.Lk)("span",i,(0,a.v_)(s.headerTitle),1)]),(0,o.Lk)("div",d,[(0,o.Lk)("div",c,[(0,o.bF)(b,{class:"w-6 h-6 text-bondi-blue-500"})]),(0,o.Lk)("div",u,[(0,o.bF)(f,{class:"w-6 h-6 text-bondi-blue-500"})]),(0,o.bF)(h,{label:`${e.firstname} ${e.lastname}`},null,8,["label"])])])])}var m=s(8309);function g(e,t){return(0,o.uX)(),(0,o.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z","clip-rule":"evenodd"})])}function v(e,t){return(0,o.uX)(),(0,o.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,o.Lk)("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),(0,o.Lk)("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"})])}const b={class:"relative inline-block text-left"},f={class:"text-sm text-catskill-white-500"},h={key:0,class:"origin-top-right absolute right-0 mt-2 w-32 rounded-xl shadow-lg bg-bondi-blue-50"},x={class:"py-2 space-y-2",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"};function y(e,t,s,r,n,l){const i=(0,o.g2)("UserCircleIcon");return(0,o.uX)(),(0,o.CE)("div",b,[(0,o.Lk)("div",{onClick:t[0]||(t[0]=e=>n.isOpen=!n.isOpen),class:"flex flex-row items-center space-x-2 cursor-pointer"},[(0,o.bF)(i,{class:"w-8 h-8 text-bondi-blue-700"}),(0,o.Lk)("span",f,(0,a.v_)(r.loginUser.firstname)+" "+(0,a.v_)(r.loginUser.lastname),1)]),n.isOpen?((0,o.uX)(),(0,o.CE)("div",h,[(0,o.Lk)("div",x,[(0,o.Lk)("a",{onClick:t[1]||(t[1]=(...e)=>l.profile&&l.profile(...e)),class:"block px-4 cursor-pointer text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"}," My profile "),(0,o.Lk)("a",{onClick:t[2]||(t[2]=(...e)=>l.logout&&l.logout(...e)),class:"block px-4 cursor-pointer text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"}," Logout ")])])):(0,o.Q3)("",!0)])}s(4114);var w=s(7369);function A(e,t){return(0,o.uX)(),(0,o.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z","clip-rule":"evenodd"})])}var k=s(6826),L={name:"ProfileComponent",components:{UserCircleIcon:A},props:{label:String},data(){return{isOpen:!1}},setup(){const e=(0,k.n)(),t=e.loginUser;return{loginUser:t}},methods:{async profile(){w.A.push("/my-profile/"+this.loginUser.id)},async logout(){localStorage.removeItem("authToken"),w.A.push("/")}}},C=s(1241);const E=(0,C.A)(L,[["render",y]]);var D=E,P={name:"HeaderView",components:{Bars3CenterLeftIcon:m.A,BellIcon:g,EnvelopeIcon:v,ProfileComponent:D},props:{headerTitle:String}};const _=(0,C.A)(P,[["render",p]]);var S=_},6026:function(e,t,s){s.r(t),s.d(t,{default:function(){return qe}});var o=s(6768),a=s(4232),r=s(1120);const n={class:"flex flex-col space-y-4 flex-1"},l={class:"flex sm:flex-row flex-col sm:space-x-4 sm:space-y-0 space-y-4"},i={class:"sm:w-4/12 w-12/12 space-y-1 rounded-xl border border-white-600 shadow-sm p-4 text-abbey-500"},d=(0,o.Lk)("div",{class:"py-3 px-3 rounded-xl text-white-50 text font-roboto-thin bg-daintree-700"},"My Profile",-1),c={class:"flex items-center justify-center py-4"},u={key:0,src:r,class:"rounded-xl border-4 border-st-tropaz-300 h-48"},p=["src"],m={class:"flex-1 space-y-2 rounded-xl border border-white-600 shadow-sm p-4 text-abbey-500"},g=(0,o.Lk)("div",{class:"py-3 px-3 rounded-xl text-white-50 text font-roboto-thin bg-daintree-700"},"Upcoming Events ",-1),v={key:0,class:"my-4 rounded-xl text-mountain-meadow-800 py-2 bg-spray-600"},b={key:2,class:"flex flex-col space-y-2"};function f(e,t,s,r,f,h){const x=(0,o.g2)("HeaderView"),y=(0,o.g2)("ProfileDetail"),w=(0,o.g2)("SpinnerComponent"),A=(0,o.g2)("EventItem"),k=(0,o.g2)("DeleteConfirmationModal"),L=(0,o.g2)("RegisterEventModal"),C=(0,o.g2)("PayEventModal");return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.bF)(x,{headerTitle:f.headerTitle},null,8,["headerTitle"]),(0,o.Lk)("div",l,[(0,o.Lk)("div",i,[d,(0,o.Lk)("div",c,[f.user_profile.picture?((0,o.uX)(),(0,o.CE)("img",{key:1,src:h.getFullImageUrl(f.user_profile.picture),alt:"Profile Picture",class:"rounded-xl border-4 border-st-tropaz-300 h-48"},null,8,p)):((0,o.uX)(),(0,o.CE)("img",u))]),(0,o.Lk)("input",{type:"file",name:"profilePicture",onChange:t[0]||(t[0]=(...e)=>h.uploadProfilePicture&&h.uploadProfilePicture(...e))},null,32),(0,o.bF)(y,{label:"Name",value:`${f.user_profile.title} ${f.user_profile.firstname} ${f.user_profile.lastname}`},null,8,["value"]),(0,o.bF)(y,{label:"Phone",value:f.user_profile.phone},null,8,["value"]),(0,o.bF)(y,{label:"Email",value:f.user_profile.email},null,8,["value"]),(0,o.bF)(y,{label:"Institution",value:f.user_profile.institution},null,8,["value"]),(0,o.bF)(y,{label:"Country",value:f.user_profile.country},null,8,["value"])]),(0,o.Lk)("div",m,[g,f.message?((0,o.uX)(),(0,o.CE)("div",v,(0,a.v_)(f.message),1)):(0,o.Q3)("",!0),f.isLoading?((0,o.uX)(),(0,o.Wv)(w,{key:1})):((0,o.uX)(),(0,o.CE)("div",b,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(f.current_events,((e,t)=>((0,o.uX)(),(0,o.Wv)(A,{key:e.id,event:e,index:t,getRowClass:h.getRowClass,getRegistrationStatus:h.getRegistrationStatus,getRegisteredStatus:h.getRegisteredStatus,onRegister:h.registerForEvent,getPaidStatus:h.getPaidStatus,onPay:h.payForEvent,onDeregister:h.showDeleteConfirmation},null,8,["event","index","getRowClass","getRegistrationStatus","getRegisteredStatus","onRegister","getPaidStatus","onPay","onDeregister"])))),128))]))])]),(0,o.bF)(k,{show:f.showDeleteModal,onConfirmed:t[1]||(t[1]=e=>h.deregisterForEvent(f.deleteEventId)),onCanceled:h.cancelDelete},null,8,["show","onCanceled"]),(0,o.bF)(L,{show:f.showRegisterForEventModal,onClosed:h.cancelRegisterEvent,event_id:f.event_id,onRegistered:h.confirmRegisterEvent},null,8,["show","onClosed","event_id","onRegistered"]),(0,o.bF)(C,{show:f.showPayForEventModal,onCancel:h.cancelPayEvent,event_id:f.event_id,onPaid:h.confirmPaidEvent},null,8,["show","onCancel","event_id","onPaid"])])}var h=s(3664),x=s(133),y=s(2521),w=s(7023),A=s(5130);const k={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},L={class:"flex flex-col border-2 border-bondi-blue-600 border-t-8 bg-white-100 rounded-xl shadow-lg w-5/12 z-50"},C=(0,o.Lk)("div",{class:"font-bold text-lg text-abbey-500 border-b-2 p-4 px-6 space-y-4 border-bondi-blue-600"}," Register For Event ",-1),E={key:0,class:"p-4 m-6 m-y-4 rounded-xl text-mountain-meadow-800 py-2 text bg-spray-600"},D={class:"block"},P=(0,o.Lk)("span",{class:"after:content-['*'] after:ml-0.5 after:text-red-500 block text-sm font-medium text-slate-700"}," Participation role ",-1),_=(0,o.Fv)('<option value="" disabled selected>--Select your role--</option><option value="Participant">Participant</option><option value="Presenter">Presenter</option><option value="ECSA Secretariat">ECSA Secretariat</option><option value="Exhibitor">Exhibitor</option><option value="Country Delegate">Country Delegate</option>',6),S=[_],F={class:"flex flex-row space-x-4"},R=(0,o.Lk)("button",{type:"submit",class:"mt-2 px-4 py-2 text-white-100 bg-bondi-blue hover:bg-bondi-blue-400 rounded-2xl"}," Register ",-1);function M(e,t,s,r,n,l){const i=(0,o.g2)("SpinnerComponent");return s.show?((0,o.uX)(),(0,o.CE)("div",k,[(0,o.Lk)("div",L,[C,n.message?((0,o.uX)(),(0,o.CE)("div",E,(0,a.v_)(n.message),1)):(0,o.Q3)("",!0),(0,o.Lk)("form",{class:"flex flex-col space-y-4 p-4 px-6",onSubmit:t[2]||(t[2]=(0,A.D$)(((...e)=>l.registerForEvent&&l.registerForEvent(...e)),["prevent"])),method:"POST"},[n.isLoading?((0,o.uX)(),(0,o.Wv)(i,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("label",D,[P,(0,o.bo)((0,o.Lk)("select",{name:"participant_category",class:"mt-2 px-3 py-3 bg-white border border-1 shadow-sm border-abbey-400 placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-sky-500 block w-full rounded-2xl sm:text-sm focus:ring-1","onUpdate:modelValue":t[0]||(t[0]=e=>n.eventData.participant_category=e),required:""},S,512),[[A.u1,n.eventData.participant_category]])]),(0,o.Lk)("div",F,[R,(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.close&&l.close(...e)),class:"mt-2 px-4 py-2 boder border-2 border-abbey-400 hover:border-abbey-200 rounded-2xl"},"Close")])],32)])])):(0,o.Q3)("",!0)}var B={components:{SpinnerComponent:y.A},data(){return{eventData:{event_id:"",participant_category:""},isLoading:!1,message:""}},props:{show:{type:Boolean,required:!0},event_id:{type:Number,required:!0}},methods:{async registerForEvent(){this.eventData.event_id=this.event_id,this.isLoading=!0;try{const e=await(0,x.wE)("events/register/",this.eventData);this.participants=e.data,this.isLoading=!1,this.$emit("registered"),this.message="Successfully registered for an event"}catch(e){console.error("Error regsitering for event:",e),this.isLoading=!1}},close(){this.$emit("closed")}}},I=s(1241);const X=(0,I.A)(B,[["render",M]]);var Q=X,q=s.p+"img/visa.a0238b98.png";const U={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},z={class:"flex flex-col border border-abbey-600 border-t-8 bg-white-100 rounded-xl shadow-lg w-5/12 z-50"},J=(0,o.Lk)("div",{class:"font-bold text-lg text-abbey-500 p-4 px-6 space-y-4 border-b border-abbey-600"}," Make Payment ",-1),T={key:0,class:"p-4 m-6 m-y-4 rounded-xl text-mountain-meadow-800 py-2 text bg-spray-600"},V=(0,o.Lk)("img",{class:"w-48 pt-4",src:q},null,-1),j={class:"flex sm:flex-row flex-col sm:space-x-4 space-y-2"},H={class:"flex sm:flex-row flex-col sm:space-x-4 space-y-2"},O={class:"flex sm:flex-row flex-col sm:space-x-4 space-y-2"},Z={class:"flex sm:flex-row flex-col sm:space-x-4 space-y-2"},N={class:"flex flex-row space-x-4"},G=(0,o.Lk)("button",{type:"submit",class:"mt-2 px-4 py-1 text-white-100 bg-bondi-blue hover:bg-bondi-blue-400 rounded-2xl"}," Complete Payment ($150) ",-1);function K(e,t,s,r,n,l){const i=(0,o.g2)("SpinnerComponent");return s.show?((0,o.uX)(),(0,o.CE)("div",U,[(0,o.Lk)("div",z,[J,n.message?((0,o.uX)(),(0,o.CE)("div",T,(0,a.v_)(n.message),1)):(0,o.Q3)("",!0),V,(0,o.Lk)("form",{class:"flex flex-col space-y-4 p-4 px-6",onSubmit:t[7]||(t[7]=(0,A.D$)(((...e)=>l.payForEvent&&l.payForEvent(...e)),["prevent"])),method:"POST"},[n.isLoading?((0,o.uX)(),(0,o.Wv)(i,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("label",j,[(0,o.bo)((0,o.Lk)("input",{type:"number",name:"card_number","onUpdate:modelValue":t[0]||(t[0]=e=>n.eventPaymentData.card_number=e),class:"mt-2 w-10/12 py-3 px-3 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block rounded-xl sm:text-sm focus:ring-1",placeholder:"Card Number",required:""},null,512),[[A.Jo,n.eventPaymentData.card_number]]),(0,o.bo)((0,o.Lk)("input",{type:"number",name:"csv","onUpdate:modelValue":t[1]||(t[1]=e=>n.eventPaymentData.csv=e),class:"mt-2 w-2/12 py-3 px-3 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block rounded-xl sm:text-sm focus:ring-1",placeholder:"CSV",required:""},null,512),[[A.Jo,n.eventPaymentData.csv]])]),(0,o.Lk)("label",H,[(0,o.bo)((0,o.Lk)("input",{type:"text",name:"card_number","onUpdate:modelValue":t[2]||(t[2]=e=>n.eventPaymentData.card_holder=e),class:"mt-2 w-full py-3 px-3 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block rounded-xl sm:text-sm focus:ring-1",placeholder:"Card Holder Name",required:""},null,512),[[A.Jo,n.eventPaymentData.card_holder]])]),(0,o.Lk)("label",O,[(0,o.bo)((0,o.Lk)("input",{type:"email",name:"email","onUpdate:modelValue":t[3]||(t[3]=e=>n.eventPaymentData.email=e),class:"mt-2 w-full py-3 px-3 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block rounded-xl sm:text-sm focus:ring-1",placeholder:"Email",required:""},null,512),[[A.Jo,n.eventPaymentData.email]])]),(0,o.Lk)("label",Z,[(0,o.bo)((0,o.Lk)("input",{type:"text",name:"card_number","onUpdate:modelValue":t[4]||(t[4]=e=>n.eventPaymentData.month=e),class:"mt-2 w-5/12 py-3 px-3 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block rounded-xl sm:text-sm focus:ring-1",placeholder:"Exp month",required:""},null,512),[[A.Jo,n.eventPaymentData.month]]),(0,o.bo)((0,o.Lk)("input",{type:"integer",name:"csv","onUpdate:modelValue":t[5]||(t[5]=e=>n.eventPaymentData.year=e),class:"mt-2 w-7/12 py-3 px-3 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block rounded-xl sm:text-sm focus:ring-1",placeholder:"Exp year",required:""},null,512),[[A.Jo,n.eventPaymentData.year]])]),(0,o.Lk)("div",N,[G,(0,o.Lk)("div",{onClick:t[6]||(t[6]=(...e)=>l.cancel&&l.cancel(...e)),class:"mt-2 px-4 py-1 boder border-2 border-abbey-400 hover:border-abbey-200 rounded-2xl cursor-pointer"}," Close")])],32)])])):(0,o.Q3)("",!0)}var $={components:{SpinnerComponent:y.A},data(){return{eventPaymentData:{event_id:"",card_number:"",csv:"",email:"",card_holder:"",year:"",month:""},isLoading:!1,message:""}},props:{show:{type:Boolean,required:!0},event_id:{type:Number,required:!0}},methods:{async payForEvent(){this.eventPaymentData.event_id=this.event_id,this.isLoading=!0;try{const e=await(0,x.wE)("events/online_payment",this.eventPaymentData);this.participants=e.data,this.isLoading=!1,this.$emit("paid"),this.message="Successfully paid for an event"}catch(e){console.error("Error paying for event:",e),this.isLoading=!1}},cancel(){this.$emit("cancel")}}};const W=(0,I.A)($,[["render",K]]);var Y=W;const ee={class:"flex sm:flex-row flex-col"},te={class:"text-bondi-blue-700 font-roboto-light text-xl"},se={class:"flex sm:flex-row flex-col"},oe=(0,o.Lk)("div",{class:"font-semibold sm:w-2/12 w-full"},"Date",-1),ae={class:"text-abbey-400"},re={class:"flex sm:flex-row flex-col"},ne=(0,o.Lk)("div",{class:"font-semibold sm:w-2/12 w-full"},"Venue",-1),le={class:"text-abbey-400"},ie={class:"flex sm:flex-row flex-col"},de=(0,o.Lk)("div",{class:"font-semibold sm:w-2/12 w-full"},"Country",-1),ce={class:"text-abbey-400"},ue={key:0,class:"flex sm:flex-row flex-col"},pe=(0,o.Lk)("div",{class:"font-semibold sm:w-2/12 w-full"},"Registration",-1),me={key:0,class:"sm:w-10/12 w-full flex space-x-2 items-center"},ge={class:"flex items-center space-x-2"},ve=(0,o.Lk)("div",null,": Not registered",-1),be={key:1,class:"sm:w-10/12 w-full ite flex space-x-2 items-center"},fe=(0,o.Lk)("div",null,": Registered",-1),he=[fe],xe={class:"flex sm:flex-row flex-col"},ye=(0,o.Lk)("div",{class:"font-semibold sm:w-2/12 w-full"},"Payment",-1),we={key:0,class:"sm:w-10/12 w-full flex space-x-2 items-center"},Ae={key:1,class:"sm:w-10/12 w-full flex space-x-2 items-center"},ke={class:"flex items-center space-x-2"},Le=(0,o.Lk)("div",null,": Not paid",-1);function Ce(e,t,s,r,n,l){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",{class:(0,a.C4)(["flex flex-col p-3 sm:space-y-2 space-y-0 sm:space-x-0 border border-shuttle-gray-200 rounded-xl text-sm",s.getRowClass(s.index)])},[(0,o.Lk)("div",ee,[(0,o.Lk)("div",te,[(0,o.bF)(i,{to:{name:"AccessEvent",params:{id:s.event.id}},class:"flex-1"},{default:(0,o.k6)((()=>[(0,o.eW)((0,a.v_)(s.event.event),1)])),_:1},8,["to"])])]),(0,o.Lk)("div",se,[oe,(0,o.Lk)("div",ae,": "+(0,a.v_)(l.formatDate(s.event.start_date))+" - "+(0,a.v_)(l.formatDate(s.event.end_date)),1)]),(0,o.Lk)("div",re,[ne,(0,o.Lk)("div",le,": "+(0,a.v_)(s.event.location),1)]),(0,o.Lk)("div",ie,[de,(0,o.Lk)("div",ce,": "+(0,a.v_)(s.event.country.country),1)]),l.isRegistrationOpen?((0,o.uX)(),(0,o.CE)("div",ue,[pe,l.isRegistered?((0,o.uX)(),(0,o.CE)("div",be,he)):((0,o.uX)(),(0,o.CE)("div",me,[(0,o.Lk)("span",{class:(0,a.C4)(l.registrationStatusClass)},[(0,o.Lk)("div",{class:(0,a.C4)(l.registeredStatusClass)},": ("+(0,a.v_)(l.registeredStatus)+")",3)],2),(0,o.Lk)("div",ge,[ve,(0,o.Lk)("div",null,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("register",s.event.id)),class:"bg-mountain-meadow-800 rounded-2xl hover:bg-mountain-meadow-500 px-4 p-1 text-white-200 cursor-pointer"},"Register")])])]))])):(0,o.Q3)("",!0),(0,o.Lk)("div",xe,[ye,l.isPaid?((0,o.uX)(),(0,o.CE)("div",we," : Paid ")):((0,o.uX)(),(0,o.CE)("div",Ae,[(0,o.Lk)("div",ke,[Le,(0,o.Lk)("div",null,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("pay",s.event.id)),class:"bg-mountain-meadow-800 rounded-2xl hover:bg-mountain-meadow-500 px-4 p-1 text-white-200 cursor-pointer"},"Make Payment")])])]))])],2)}var Ee={components:{},props:{event:Object,index:Number,getRowClass:Function,getRegistrationStatus:Function,getRegisteredStatus:Function,getPaidStatus:Function},computed:{isRegistrationOpen(){return console.log("This is some data from system",this.event),"open"===this.getRegistrationStatus(this.event.registration_end_date)},isRegistered(){return this.getRegisteredStatus(this.event.id)},registrationStatusClass(){return this.isRegistrationOpen?"text-mountain-meadow-900":"text-flamingo"},registeredStatusClass(){return this.isRegistered?"text-bondi-blue-600":this.registrationStatusClass},registeredStatus(){return this.isRegistered?"Registered":this.isRegistrationOpen?"Open":"Closed"},isPaid(){return this.getPaidStatus()}},methods:{formatDate(e){const t=new Date(e);return t.toLocaleString("en-UK",{day:"2-digit",month:"2-digit",year:"numeric"})}}};const De=(0,I.A)(Ee,[["render",Ce]]);var Pe=De;const _e={class:"flex flex-row p-3 py-1 rounded-md text-sm bg-st-tropaz-100"},Se={class:"w-3/12 text-st-tropaz-900 font-bold"},Fe={class:"flex-1"};function Re(e,t,s,r,n,l){return(0,o.uX)(),(0,o.CE)("div",_e,[(0,o.Lk)("div",Se,(0,a.v_)(s.label),1),(0,o.Lk)("div",Fe,": "+(0,a.v_)(s.value),1)])}var Me={props:{label:String,value:String}};const Be=(0,I.A)(Me,[["render",Re]]);var Ie=Be,Xe={name:"DashboardView",components:{HeaderView:h.A,SpinnerComponent:y.A,DeleteConfirmationModal:w.A,RegisterEventModal:Q,PayEventModal:Y,EventItem:Pe,ProfileDetail:Ie},data(){return{headerTitle:"Dashboard",current_events:[],user_events:[],user_profile:{},isLoading:!0,showDeleteModal:!1,deleteEventId:null,currentPage:1,totalPages:"",pageSize:"10",apiUrl:"https://185.135.137.170:8080",searchPhrase:"",event_id:null,showRegisterForEventModal:!1,showPayForEventModal:!1,message:null,file:null}},mounted(){this.getDashboardData()},methods:{async getDashboardData(){try{const e=await(0,x.Fd)("dashboard",this.currentPage,this.pageSize,this.searchPhrase);this.current_events=e.current_events,this.user_profile=e.user_details.user,this.user_events=e.user_details.user_events,this.isLoading=!1}catch(e){console.error("Error fetching active events:",e),this.isLoading=!1}},getRowClass(e){return e%2===0?"bg-st-tropaz-100":"bg-shuttle-gray-50"},getRegistrationStatus(e){const t=new Date(e),s=new Date;return t>s?"open":"closed"},getRegisteredStatus(e){return this.user_events.some((t=>t.event_id===e))},getPaidStatus(){return this.user_events.some((e=>!0===e.event_payment))},async deregisterForEvent(e){this.isLoading=!0;try{await(0,x.LD)("events/deregister",e),this.showDeleteModal=!1,this.isLoading=!1,this.getDashboardData()}catch(t){console.error("Error fetching events:",t),this.isLoading=!1,this.showDeleteModal=!1}},showDeleteConfirmation(e){this.deleteEventId=e,this.showDeleteModal=!0},cancelDelete(){this.showDeleteModal=!1},registerForEvent(e){this.event_id=e,this.showRegisterForEventModal=!0},confirmRegisterEvent(){this.getDashboardData(),this.message="Successfully registered for an event",this.showRegisterForEventModal=!1},cancelRegisterEvent(){this.showRegisterForEventModal=!1},payForEvent(e){this.event_id=e,this.showPayForEventModal=!0},confirmPaidEvent(){this.getDashboardData(),this.message="Successfully paid for an event",this.showPayForEventModal=!1},cancelPayEvent(){this.showPayForEventModal=!1},async uploadProfilePicture(e){if(this.file=e.target.files[0],!this.file)return void alert("Please select a file!");const t=new FormData;t.append("profilePicture",this.file);try{const e=await(0,x.wE)("dashboard/upload_profile/",t);this.profile=e,this.isLoading=!1,this.getDashboardData()}catch(s){console.error("Error uploading profile picture:",s),this.isLoading=!1}},getFullImageUrl(e){return`${this.apiUrl}/${e}`}}};const Qe=(0,I.A)(Xe,[["render",f]]);var qe=Qe},1120:function(e){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAZABkAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/wgALCADIAMgBAREA/8QAGwABAAMAAwEAAAAAAAAAAAAAAAQFBgECAwf/2gAIAQEAAAAA+zAAAAAAAAAAAAAAAAAAIsDpMsAAAOtDWCTezQAAz9YDtpZgABGyoCRqwACpogDVyAAFLTAGplAAKugAdtf2AAQM2A508sAB4ZTgD11vIABm4AOb21AAHnlPMLa9AABT0gaSeAACNlQ0s4AAFbngtb4AAPDM+Ic6KwAAR6yp6gc2l16AHFRVeIAO1jaTAdM5CAACdofQZuAAABM03KvzgAABf2jO1wAABM0//8QAMxAAAgECAwYEBAUFAAAAAAAAAQIDBBEABSESMDFAQVEgIlJxECMyYRMUgZHBM2BictH/2gAIAQEAAT8A/u6ozGmprh5Lt6V1OHz4D+nBf/ZsDPnv5oFt9mxT5xTzEK942Pq4fvjjybusaFnICgXJOK7NnmJjgJSPhfqfDBmFTT2CSkr6TqMUOYR1i2PllHFe/tyWbVxnlMCH5aHW3U+NHaNw6EhhqCMZfWisgubCRdGH88hXz/l6OSQHzWsPc7mhqTS1SSX8vBvbANxcb/PXtBEndr/tuqFzJQwseOzv8+veDtrusuUrl8IPpvv88jLUqOB9Da/ruUXbdVHU2wihEVBwUW3+bymOgYAX2zs+25BIIINiMZa8klDG0pJY31Pbf1kAqaWSMjW1x74IsSDxG4poGqahIl4k6nsMKoRFUcALDkM0pGp6kuB8uQ3B+/bxgFiABcngBjKcveAmaXRiLBew5GaJZ4mjcXDC3tiaJoJmicaqbeLJKYPK07DRNF9+Tzumuq1CjUeVv48WTps5ep9RJ5PMVDZfMD6b+LKHDZeg9JIPJ5zOI6T8IHzSG36eLJakRzNAx0fVffkqqripI9qQ69F6nFTUvVTGR+vAdh4lJVgymxGoOMvzJKpAjkLMOI77+aupoPrlW/YanFTnjNdadLf5N/zEkjyuXkYsx6ncAkG4Njijzl47JUAuvRhxGIZ4qhNqJww+26ZgqlmIAHEnFXnQUlKZQx9Z4Ylqp5yTJKx+19N6kjxsGRipHUHEGdzR2EyiQd+BxT5nTVGgfYb0tp45ZUhjaSRrKOJxXZhJVuQLrEOC9/fkqPM5qVgrEvF6T09sQzR1EQkja6nw5pXGqm2EPykOn3PflMvrWpJtbmJvqH84BDKGBuDqD8c3qTBS7CmzSafp15bJakyQNCxuY+Ht8c6l263Y6IoHLZXP+BXJc+V/Kfh//9k="},5246:function(e,t,s){s.d(t,{A:function(){return a}});var o=s(6768);function a(e,t){return(0,o.uX)(),(0,o.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z","clip-rule":"evenodd"})])}}}]);
//# sourceMappingURL=811.ce2d356a.js.map