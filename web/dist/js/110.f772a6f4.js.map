{"version":3,"file":"js/110.f772a6f4.js","mappings":"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","sources":["webpack://web/./src/components/Spinner.vue","webpack://web/./src/components/Spinner.vue?1502","webpack://web/./src/views/auth/Login.vue","webpack://web/./src/services/authService.js","webpack://web/./src/views/auth/Login.vue?930c"],"sourcesContent":["<template>\n  <div class=\"spinner\">\n    <div class=\"w-16 h-16 border-t-4 border-bondi-blue-500 border-solid rounded-full animate-spin\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SpinnerComponent\",\n};\n</script>\n\n<style scoped>\n.spinner {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n</style>\n","import { render } from \"./Spinner.vue?vue&type=template&id=218fa1a2&scoped=true\"\nimport script from \"./Spinner.vue?vue&type=script&lang=js\"\nexport * from \"./Spinner.vue?vue&type=script&lang=js\"\n\nimport \"./Spinner.vue?vue&type=style&index=0&id=218fa1a2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-218fa1a2\"]])\n\nexport default __exports__","<template>\n    <div class=\"sm:flex sm:flex-row flex flex-col flex-1 justify-center items-center\">\n        <div\n            class=\"sm:w-7/12 w-11/12  flex flex-col sm:space-y-4 space-y-2 rounded-2xl p-8 bg-ghost-300 drop-shadow-md\">\n            <div class=\"font-bold font-archivo text-ghost-900 text-3xl\">Sign in</div>\n            <div\n                class=\"p-4 text-md border border-solid border-great-blue-400 bg-great-blue-50 text-great-blue rounded-2xl font-roboto\">\n                Sign in to Confirm Attendance or Register for Event Participation</div>\n            <div v-if=\"message\" class=\"text-flamingo-500\">{{ message }}</div> <!-- Display error message -->\n            <form class=\"flex flex-col space-y-4\" @submit.prevent=\"submitLoginForm\" method=\"POST\">\n                <label class=\"block\">\n                    <input type=\"email\" name=\"email\" v-model=\"userData.username\"\n                        class=\"mt-2 p-4 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block w-full rounded-2xl sm:text-sm focus:ring-1\"\n                        placeholder=\"Email\" required />\n                </label>\n                <label class=\"block\">\n                    <input type=\"password\" name=\"password\" v-model=\"userData.password\"\n                        class=\"mt-2 p-4 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block w-full rounded-2xl sm:text-sm focus:ring-1\"\n                        placeholder=\"Password\" required />\n                </label>\n                <div class=\"flex sm:flex-row flex-col sm:space-x-4 space-y-2\">\n                    <button type=\"submit\"\n                        class=\"flex-1 px-8 py-4 text-white-50 font-bold rounded-2xl bg-bondi-blue text-stone-100 hover:bg-bondi-blue-600\">\n                        Sign in\n                    </button>\n                </div>\n                <div class=\"flex sm:flex-row flex-col sm:space-x-4 space-y-2 justify-center\">\n                    <p class=\"\">\n                        Forgot your password?\n                    </p>\n                    <p>|</p>\n                    <p class=\"\">Need help?\n                    </p>\n                </div>\n                <div class=\"flex sm:flex-row flex-col sm:space-x-4 space-y-2 justify-center\">\n                    <p class=\"\">\n                        New to this website <router-link :to=\"{ name: 'Register' }\"\n                            class=\"font-bold\">Register</router-link>\n                    </p>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { login } from \"@/services/authService\";\nimport SpinnerComponent from \"@/components/Spinner.vue\";\nimport router from \"@/router\";\nimport { useAuthStore } from \"@/store/authStore\";\nimport { setAuthToken } from \"@/services/apiService\"; // Adjust the path as needed\n\n\nexport default {\n    name: \"LoginView\",\n    data() {\n        return {\n            userData: {\n                username: \"\",\n                password: \"\",\n            },\n            SpinnerComponent,\n            message: null,\n            isLoading: false,\n        };\n    },\n\n    methods: {\n        async submitLoginForm() {\n            this.isLoading = true;\n            try {\n                const response = await login(\"auth/login\", this.userData);\n                // saveTokenToLocalStorage(response.access_token);\n                const authStore = useAuthStore();\n                authStore.setUser(response.user);\n                authStore.setPermissions(response.permissions);\n                authStore.setAccessToken(response.access_token);\n                setAuthToken();\n\n                this.isLoading = false;\n\n                this.$nextTick(() => {\n                    router.push(\"/dashboard\");\n                });\n            } catch (error) {\n                this.message = \"Invalid username or password!\"; // Set the error message\n                this.isLoading = false;\n            }\n        },\n    },\n};\n</script>","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: process.env.VUE_APP_API_URL,\n});\n\n// Function to save the token in local storage\nexport function saveTokenToLocalStorage(token) {\n  localStorage.setItem(\"authToken\", token);\n}\n\n// Function to remove the token from local storage\nfunction removeTokenFromLocalStorage() {\n  localStorage.removeItem(\"authToken\");\n}\n\n// Function to perform user login\n// Function to perform user login\nexport const login = async (url, userData) => {\n  try {\n    const params = new URLSearchParams();\n    params.append(\"grant_type\", \"\");\n    params.append(\"username\", userData.username);\n    params.append(\"password\", userData.password);\n    params.append(\"scope\", \"\");\n    params.append(\"client_id\", \"\");\n    params.append(\"client_secret\", \"\");\n\n    const response = await instance.post(url, params, {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n    });\n\n    return response.data;\n  } catch (error) {\n    // Handle error, e.g., log it or throw a custom error\n    console.error(\"Login error:\", error);\n    throw error;\n  }\n};\n\n// Function to perform user logout\nexport function logout() {\n  removeTokenFromLocalStorage();\n}\n\n// Function to refresh the authentication token (placeholder, replace with actual logic)\nexport async function refreshToken() {\n  try {\n    const response = await instance.post(\"/refresh-token-endpoint\");\n    const { token } = response.data;\n    saveTokenToLocalStorage(token);\n    return token;\n  } catch (error) {\n    // Handle error, e.g., log it or throw a custom error\n    console.error(\"Refresh token error:\", error);\n    throw error;\n  }\n}\n\nexport default instance;\n","import { render } from \"./Login.vue?vue&type=template&id=04c89fce\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","_createElementBlock","_hoisted_1","_hoisted_3","name","__exports__","render","key","_createStaticVNode","_hoisted_4","$data","message","_hoisted_5","_toDisplayString","_createCommentVNode","onSubmit","_cache","_withModifiers","args","$options","submitLoginForm","method","_hoisted_6","type","$event","userData","username","placeholder","required","_hoisted_7","password","_hoisted_8","_hoisted_10","_hoisted_11","_createTextVNode","_createVNode","_component_router_link","to","default","_withCtx","_","instance","axios","create","baseURL","process","login","async","url","params","URLSearchParams","append","response","post","headers","data","error","console","SpinnerComponent","isLoading","methods","this","authStore","useAuthStore","setUser","user","setPermissions","permissions","setAccessToken","access_token","setAuthToken","$nextTick","router","push"],"sourceRoot":""}