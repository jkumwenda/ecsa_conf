{"version":3,"file":"js/293.d2468b1d.js","mappings":"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","sources":["webpack://ecsaconm-event/./src/views/auth/Login.vue","webpack://ecsaconm-event/./src/services/authService.js","webpack://ecsaconm-event/./src/views/auth/Login.vue?930c","webpack://ecsaconm-event/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://ecsaconm-event/./node_modules/core-js/internals/validate-arguments-length.js","webpack://ecsaconm-event/./node_modules/core-js/modules/web.url-search-params.delete.js","webpack://ecsaconm-event/./node_modules/core-js/modules/web.url-search-params.has.js","webpack://ecsaconm-event/./node_modules/core-js/modules/web.url-search-params.size.js"],"sourcesContent":["<template>\n    <div class=\"sm:flex sm:flex-row flex flex-col flex-1 justify-center items-center\">\n        <div class=\"sm:w-7/12 w-11/12  flex flex-col sm:space-y-4 space-y-2 rounded-md p-8 bg-ghost-300\">\n            <div class=\"sm:font-roboto-thin font-roboto text-ghost-900 sm:text-4xl text-xl\">Sign in</div>\n            <div v-if=\"message\" class=\"text-flamingo-500\">{{ message }}</div> <!-- Display error message -->\n            <SpinnerComponent v-if=\"isLoading\" />\n            <form v-else class=\"flex flex-col space-y-4\" @submit.prevent=\"submitLoginForm\" method=\"POST\">\n                <label class=\"block\">\n                    <input type=\"email\" name=\"email\" v-model=\"userData.username\"\n                        class=\"mt-2 px-4 py-3 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block w-full rounded-md sm:text-sm focus:ring-1\"\n                        placeholder=\"Email\" required />\n                </label>\n                <label class=\"block\">\n                    <input type=\"password\" name=\"password\" v-model=\"userData.password\"\n                        class=\"mt-2 px-4 py-3 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block w-full rounded-md sm:text-sm focus:ring-1\"\n                        placeholder=\"Password\" required />\n                </label>\n                <div class=\"flex sm:flex-row flex-col sm:space-x-4 space-y-2\">\n                    <button type=\"submit\"\n                        class=\"flex-1 px-4 py-3 text-white-50 rounded-md bg-bondi-blue text-stone-100 hover:bg-bondi-blue-600\">\n                        Sign in\n                    </button>\n                </div>\n                <div class=\"flex flex-row sm:space-x-4 justify-center items-center\">\n                    <router-link :to=\"{ name: 'ResetPassword' }\"\n                        class=\"cursor-poiter text-bondi-blue-500 cursor-pointer\">\n                        Forgot your password?\n                    </router-link>\n                </div>\n                <div class=\"flex sm:flex-row flex-col sm:space-x-4 space-y-2 justify-center items-center\">\n                    <p class=\"\">\n                        New to this website <router-link :to=\"{ name: 'Register' }\"\n                            class=\"cursor-poiter text-bondi-blue-500 cursor-pointer\">Register</router-link>\n                    </p>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { login } from \"@/services/authService\";\nimport SpinnerComponent from \"@/components/Spinner.vue\";\nimport router from \"@/router\";\nimport { useAuthStore } from \"@/store/authStore\";\nimport { setAuthToken } from \"@/services/apiService\"; // Adjust the path as needed\n\n\nexport default {\n    name: \"LoginView\",\n    components: {\n        SpinnerComponent\n    },\n    data() {\n        return {\n            userData: {\n                username: \"\",\n                password: \"\",\n            },\n            SpinnerComponent,\n            message: null,\n            isLoading: false,\n        };\n    },\n\n    methods: {\n        async submitLoginForm() {\n            this.isLoading = true;\n            try {\n                const response = await login(\"auth/login\", this.userData);\n                // saveTokenToLocalStorage(response.access_token);\n                const authStore = useAuthStore();\n                authStore.setUser(response.user);\n                authStore.setPermissions(response.permissions);\n                authStore.setAccessToken(response.access_token);\n                setAuthToken();\n\n                this.isLoading = false;\n\n                this.$nextTick(() => {\n                    router.push(\"/dashboard\");\n                });\n            } catch (error) {\n                this.message = \"Invalid username or password!\"; // Set the error message\n                this.isLoading = false;\n            }\n        },\n    },\n};\n</script>","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: process.env.VUE_APP_API_URL,\n});\n\n// Function to save the token in local storage\nexport function saveTokenToLocalStorage(token) {\n  localStorage.setItem(\"authToken\", token);\n}\n\n// Function to remove the token from local storage\nfunction removeTokenFromLocalStorage() {\n  localStorage.removeItem(\"authToken\");\n}\n\n// Function to perform user login\n// Function to perform user login\nexport const login = async (url, userData) => {\n  try {\n    const params = new URLSearchParams();\n    params.append(\"grant_type\", \"\");\n    params.append(\"username\", userData.username);\n    params.append(\"password\", userData.password);\n    params.append(\"scope\", \"\");\n    params.append(\"client_id\", \"\");\n    params.append(\"client_secret\", \"\");\n\n    const response = await instance.post(url, params, {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n    });\n\n    return response.data;\n  } catch (error) {\n    // Handle error, e.g., log it or throw a custom error\n    console.error(\"Login error:\", error);\n    throw error;\n  }\n};\n\n// Function to perform user logout\nexport function logout() {\n  removeTokenFromLocalStorage();\n}\n\n// Function to refresh the authentication token (placeholder, replace with actual logic)\nexport async function refreshToken() {\n  try {\n    const response = await instance.post(\"/refresh-token-endpoint\");\n    const { token } = response.data;\n    saveTokenToLocalStorage(token);\n    return token;\n  } catch (error) {\n    // Handle error, e.g., log it or throw a custom error\n    console.error(\"Refresh token error:\", error);\n    throw error;\n  }\n}\n\nexport default instance;\n","import { render } from \"./Login.vue?vue&type=template&id=5b4e2f46\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar $TypeError = TypeError;\n\nmodule.exports = function (passed, required) {\n  if (passed < required) throw new $TypeError('Not enough arguments');\n  return passed;\n};\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar append = uncurryThis(URLSearchParamsPrototype.append);\nvar $delete = uncurryThis(URLSearchParamsPrototype['delete']);\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\nvar push = uncurryThis([].push);\nvar params = new $URLSearchParams('a=1&a=2&b=3');\n\nparams['delete']('a', 1);\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nparams['delete']('b', undefined);\n\nif (params + '' !== 'a=2') {\n  defineBuiltIn(URLSearchParamsPrototype, 'delete', function (name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $delete(this, name);\n    var entries = [];\n    forEach(this, function (v, k) { // also validates `this`\n      push(entries, { key: k, value: v });\n    });\n    validateArgumentsLength(length, 1);\n    var key = toString(name);\n    var value = toString($value);\n    var index = 0;\n    var dindex = 0;\n    var found = false;\n    var entriesLength = entries.length;\n    var entry;\n    while (index < entriesLength) {\n      entry = entries[index++];\n      if (found || entry.key === key) {\n        found = true;\n        $delete(this, entry.key);\n      } else dindex++;\n    }\n    while (dindex < entriesLength) {\n      entry = entries[dindex++];\n      if (!(entry.key === key && entry.value === value)) append(this, entry.key, entry.value);\n    }\n  }, { enumerable: true, unsafe: true });\n}\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar getAll = uncurryThis(URLSearchParamsPrototype.getAll);\nvar $has = uncurryThis(URLSearchParamsPrototype.has);\nvar params = new $URLSearchParams('a=1');\n\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nif (params.has('a', 2) || !params.has('a', undefined)) {\n  defineBuiltIn(URLSearchParamsPrototype, 'has', function has(name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $has(this, name);\n    var values = getAll(this, name); // also validates `this`\n    validateArgumentsLength(length, 1);\n    var value = toString($value);\n    var index = 0;\n    while (index < values.length) {\n      if (values[index++] === value) return true;\n    } return false;\n  }, { enumerable: true, unsafe: true });\n}\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\n\nvar URLSearchParamsPrototype = URLSearchParams.prototype;\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\n\n// `URLSearchParams.prototype.size` getter\n// https://github.com/whatwg/url/pull/734\nif (DESCRIPTORS && !('size' in URLSearchParamsPrototype)) {\n  defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {\n    get: function size() {\n      var count = 0;\n      forEach(this, function () { count++; });\n      return count;\n    },\n    configurable: true,\n    enumerable: true\n  });\n}\n"],"names":["class","_createElementVNode","key","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","$data","message","_hoisted_4","_toDisplayString","_createCommentVNode","isLoading","_createBlock","_component_SpinnerComponent","onSubmit","_cache","_withModifiers","args","$options","submitLoginForm","method","_hoisted_5","name","$event","userData","username","placeholder","required","_hoisted_6","password","_hoisted_7","_hoisted_8","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_9","_hoisted_10","instance","axios","create","baseURL","process","login","async","url","params","URLSearchParams","append","response","post","headers","data","error","console","components","SpinnerComponent","methods","this","authStore","useAuthStore","setUser","user","setPermissions","permissions","setAccessToken","access_token","setAuthToken","$nextTick","router","push","__exports__","render","makeBuiltIn","defineProperty","module","exports","target","descriptor","get","getter","set","setter","f","$TypeError","TypeError","passed","defineBuiltIn","uncurryThis","toString","validateArgumentsLength","$URLSearchParams","URLSearchParamsPrototype","prototype","$delete","forEach","undefined","length","arguments","$value","entries","v","k","value","entry","index","dindex","found","entriesLength","enumerable","unsafe","getAll","$has","has","values","DESCRIPTORS","defineBuiltInAccessor","count","configurable"],"sourceRoot":""}