"use strict";(self["webpackChunkecsaconm_event"]=self["webpackChunkecsaconm_event"]||[]).push([[293],{7067:function(e,s,o){o.r(s),o.d(s,{default:function(){return D}});var t=o(6768),a=o(4232),r=o(5130);const n={class:"sm:flex sm:flex-row flex flex-col flex-1 justify-center items-center"},l={class:"sm:w-7/12 w-11/12 flex flex-col sm:space-y-4 space-y-2 rounded-md p-8 bg-ghost-300"},c=(0,t.Lk)("div",{class:"sm:font-roboto-thin font-roboto text-ghost-900 sm:text-4xl text-xl"},"Sign in",-1),i={key:0,class:"text-flamingo-500"},d={class:"block"},u={class:"block"},p=(0,t.Lk)("div",{class:"flex sm:flex-row flex-col sm:space-x-4 space-y-2"},[(0,t.Lk)("button",{type:"submit",class:"flex-1 px-4 py-3 text-white-50 rounded-md bg-bondi-blue text-stone-100 hover:bg-bondi-blue-600"}," Sign in ")],-1),m={class:"flex flex-row sm:space-x-4 justify-center items-center"},b={class:"flex sm:flex-row flex-col sm:space-x-4 space-y-2 justify-center items-center"},f={class:""};function h(e,s,o,h,g,x){const w=(0,t.g2)("SpinnerComponent"),k=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("div",l,[c,g.message?((0,t.uX)(),(0,t.CE)("div",i,(0,a.v_)(g.message),1)):(0,t.Q3)("",!0),g.isLoading?((0,t.uX)(),(0,t.Wv)(w,{key:1})):((0,t.uX)(),(0,t.CE)("form",{key:2,class:"flex flex-col space-y-4",onSubmit:s[2]||(s[2]=(0,r.D$)(((...e)=>x.submitLoginForm&&x.submitLoginForm(...e)),["prevent"])),method:"POST"},[(0,t.Lk)("label",d,[(0,t.bo)((0,t.Lk)("input",{type:"email",name:"email","onUpdate:modelValue":s[0]||(s[0]=e=>g.userData.username=e),class:"mt-2 px-4 py-3 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block w-full rounded-md sm:text-sm focus:ring-1",placeholder:"Email",required:""},null,512),[[r.Jo,g.userData.username]])]),(0,t.Lk)("label",u,[(0,t.bo)((0,t.Lk)("input",{type:"password",name:"password","onUpdate:modelValue":s[1]||(s[1]=e=>g.userData.password=e),class:"mt-2 px-4 py-3 bg-white border shadow-sm border-ghost-600 placeholder-slate-400 focus:outline-none focus:border-athens-gray-500 focus:border-athens-gray-500 block w-full rounded-md sm:text-sm focus:ring-1",placeholder:"Password",required:""},null,512),[[r.Jo,g.userData.password]])]),p,(0,t.Lk)("div",m,[(0,t.bF)(k,{to:{name:"ResetPassword"},class:"cursor-poiter text-bondi-blue-500 cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.eW)(" Forgot your password? ")])),_:1})]),(0,t.Lk)("div",b,[(0,t.Lk)("p",f,[(0,t.eW)(" New to this website "),(0,t.bF)(k,{to:{name:"Register"},class:"cursor-poiter text-bondi-blue-500 cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.eW)("Register")])),_:1})])])],32))])])}o(4114),o(4603),o(7566),o(8721);var g=o(4373);const x=g.A.create({baseURL:"https://185.135.137.170:8080"});const w=async(e,s)=>{try{const o=new URLSearchParams;o.append("grant_type",""),o.append("username",s.username),o.append("password",s.password),o.append("scope",""),o.append("client_id",""),o.append("client_secret","");const t=await x.post(e,o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return t.data}catch(o){throw console.error("Login error:",o),o}};var k=o(2521),y=o(7369),L=o(6826),v=o(133),C={name:"LoginView",components:{SpinnerComponent:k.A},data(){return{userData:{username:"",password:""},SpinnerComponent:k.A,message:null,isLoading:!1}},methods:{async submitLoginForm(){this.isLoading=!0;try{const e=await w("auth/login",this.userData),s=(0,L.n)();s.setUser(e.user),s.setPermissions(e.permissions),s.setAccessToken(e.access_token),(0,v.O5)(),this.isLoading=!1,this.$nextTick((()=>{y.A.push("/dashboard")}))}catch(e){this.message="Invalid username or password!",this.isLoading=!1}}}},_=o(1241);const S=(0,_.A)(C,[["render",h]]);var D=S}}]);
//# sourceMappingURL=293.26ae3f3e.js.map