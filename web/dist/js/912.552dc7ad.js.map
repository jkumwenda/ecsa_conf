{"version":3,"file":"js/912.552dc7ad.js","mappings":"gNACSA,MAAM,+C,GADfC,IAAA,EAGoBD,MAAM,+D,GACTA,MAAM,yF,GACFA,MAAM,kC,GACFA,MAAM,qD,GACNA,MAAM,6B,GAGNA,MAAM,6B,GAA4BE,EAAAA,EAAAA,IAAwC,QAAlCF,MAAM,aAAY,aAAS,G,GAGxEE,EAAAA,EAAAA,IAAmF,MAA/EF,MAAM,mDAAkD,sBAAkB,G,GACzEA,MAAM,iB,GACFA,MAAM,kD,GAfnCC,IAAA,EAgBiCD,MAAM,kG,GAhBvCC,IAAA,EAmBiCD,MAAM,iH,GAMPE,EAAAA,EAAAA,IACqB,QADfF,MAAM,6BAA4B,oCAC1B,G,GAIdE,EAAAA,EAAAA,IAGS,UAHDC,KAAK,SACTH,MAAM,oFAAmF,wBAE7F,G,GAMpBE,EAAAA,EAAAA,IAAW,oB,+EAtCnBE,EAAAA,EAAAA,IAwCM,MAxCNC,EAwCM,CAvCsBC,EAAAC,YAAS,WAAjCC,EAAAA,EAAAA,IAAqCC,EAAA,CAF7CR,IAAA,kBAGQG,EAAAA,EAAAA,IAqCM,MArCNM,EAqCM,EApCFR,EAAAA,EAAAA,IAkCM,MAlCNS,EAkCM,EAjCFT,EAAAA,EAAAA,IAgCM,MAhCNU,EAgCM,EA/BFV,EAAAA,EAAAA,IAAsF,MAAtFW,GAAsFC,EAAAA,EAAAA,IAApBR,EAAAS,MAAMA,OAAK,IAC7Eb,EAAAA,EAAAA,IAEM,MAFNc,GAEMF,EAAAA,EAAAA,IADCG,EAAAC,WAAWZ,EAAAS,MAAMI,aAAc,OAAGL,EAAAA,EAAAA,IAAGG,EAAAC,WAAWZ,EAAAS,MAAMK,WAAQ,IAErElB,EAAAA,EAAAA,IAEM,MAFNmB,EAEM,CAFiCC,GAV3DC,EAAAA,EAAAA,IAUmG,KAC3ET,EAAAA,EAAAA,IAAGG,EAAAO,eAAa,KAEpBC,GACAvB,EAAAA,EAAAA,IAsBM,MAtBNwB,EAsBM,EArBFxB,EAAAA,EAAAA,IAoBM,MApBNyB,EAoBM,CAlBQrB,EAAAsB,WAAQ,WADlBxB,EAAAA,EAAAA,IAEY,MAFZyB,GAEYf,EAAAA,EAAAA,IADWR,EAAAsB,UAAQ,KAjB3DE,EAAAA,EAAAA,IAAA,OAoBsCxB,EAAAyB,aAAU,WADpB3B,EAAAA,EAAAA,IAGY,MAHZ4B,GAGYlB,EAAAA,EAAAA,IADLR,EAAAyB,YAAU,KArB7CD,EAAAA,EAAAA,IAAA,QAuB4B5B,EAAAA,EAAAA,IAWO,QAXA+B,SAAMC,EAAA,KAAAA,EAAA,IAvBzCC,EAAAA,EAAAA,KAAA,IAAAC,IAuBmDnB,EAAAoB,mBAAApB,EAAAoB,qBAAAD,IAAiB,cAAEE,OAAO,OAC7CtC,MAAM,oD,CACNuC,GACqB,SACrBrC,EAAAA,EAAAA,IAE0C,SA7B1E,sBAAAgC,EAAA,KAAAA,EAAA,GAAAM,GA2BgDlC,EAAAmC,sBAAsBC,QAAOF,GACzCxC,MAAM,sMACN2C,YAAY,yB,iBAFArC,EAAAmC,sBAAsBC,WAGtCE,GAGS,YAM7BC,M,wBASZ,GACIC,KAAM,iBACNC,WAAY,CACRC,iBAAgBA,EAAAA,GAEpBC,IAAAA,GACI,MAAO,CACHC,YAAa,4BACbC,QAASC,KAAKC,OAAOC,OAAOH,QAC5BpC,MAAO,CAAC,EACRwC,OAAQC,8BACRC,OAAQD,+BACRjD,WAAW,EACXmD,MAAO,IAAIC,KACXlB,sBAAuB,CACnBmB,SAAU,GACVlB,QAAS,IAEbd,SAAU,KACVG,WAAY,KAEpB,EACA8B,SAAU,CACNrC,aAAAA,GACI,OAAO4B,KAAKM,MAAMI,mBAAmB,QAAS,CAC1CC,QAAS,OACTC,KAAM,UACNC,MAAO,OACPC,IAAK,WAEb,GAEJC,OAAAA,GACIf,KAAKgB,oBACT,EACAC,QAAS,CACL,wBAAMD,GACF,IACI,MAAME,QAAiBC,EAAAA,EAAAA,IAAU,eAAgBnB,KAAKD,SACtDC,KAAKrC,MAAQuD,EAASvD,MACtBqC,KAAK7C,WAAY,CACrB,CAAE,MAAOiE,GACLC,QAAQD,MAAM,wBAAyBA,GACvCpB,KAAK7C,WAAY,CACrB,CACJ,EACA,uBAAM8B,GACFe,KAAKX,sBAAsBmB,SAAWR,KAAKD,QAC3CC,KAAK7C,WAAY,EACjB,IACI,MAAM+D,QAAiBI,EAAAA,EAAAA,IAAW,mCAAoCtB,KAAKX,uBAC3EW,KAAKuB,OAASL,EAASrB,KACvBG,KAAK7C,WAAY,EACjB6C,KAAKxB,SAAW,KAChBwB,KAAKrB,WAAa,4CAClBqB,KAAKgB,oBACT,CAAE,MAAOI,GACLpB,KAAKrB,WAAa,KAClBqB,KAAKxB,SAAW4C,EAAMF,SAASrB,KAAK2B,OACpCxB,KAAK7C,WAAY,CACrB,CACJ,EACAW,UAAAA,CAAW2D,GACP,MAAMC,EAAO,IAAInB,KAAKkB,GACtB,OAAOC,EAAKC,eAAe,QAAS,CAChCb,IAAK,UACLD,MAAO,UACPD,KAAM,WAEd,I,UChHR,MAAMgB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://ecsaconm-event/./src/views/web/Attendance.vue","webpack://ecsaconm-event/./src/views/web/Attendance.vue?8fec"],"sourcesContent":["<template>\n    <div class=\"flex flex-col space-y-6 flex-1 items-center\">\n        <SpinnerComponent v-if=\"isLoading\" />\n        <div v-else class=\"flex flex-col w-11/12 justify-center items-center space-y-4\">\n            <div class=\"flex flex-row sm:w-10/12 w-full border-2 border-abbey-500 rounded-xl text-center py-2\">\n                <div class=\"flex flex-col w-full space-y-2\">\n                    <div class=\"font-roboto-light text-bondi-blue-500 text-xl p-4\">{{ event.event }}</div>\n                    <div class=\"font-roboto-light text-md\">\n                        {{ formatDate(event.start_date) }} - {{ formatDate(event.end_date) }}\n                    </div>\n                    <div class=\"font-roboto-light text-md\"><span class=\"font-bold\">Reg date:</span>\n                        {{ formattedDate }}\n                    </div>\n                    <h1 class=\"px-4 py-2 bg-abbey-500 font-bold text-white-100\">Confirm Attendance</h1>\n                    <div class=\"flex flex-col\">\n                        <div class=\"flex flex-col px-4 items-center justify-center\">\n                            <div class=\"p-1 px-4 rounded-md text-sm bg-bondi-blue-200 border border-bondi-blue-400 text-bondi-blue-800\"\n                                v-if=\"errorMsg\">{{ errorMsg\n                                }}</div>\n                            <div class=\"p-1 px-4 rounded-md text-sm bg-mountain-meadow-100 border border-mountain-meadow-400 text-mountain-meadow-800\"\n                                v-if=\"successMsg\">\n                                {{ successMsg\n                                }}</div>\n                            <form @submit.prevent=\"confirmAttendance\" method=\"POST\"\n                                class=\"sm:w-12/12 bg-ghost-300 p-2 px-6 rounded-xl my-4\">\n                                <span class=\"font-roboto-light text-sm\">Enter ID # to confirm\n                                    attendance</span>\n                                <input v-model=\"attendanceConfirmData.user_id\"\n                                    class=\"mt-2 px-4 py-2 bg-white border border-1 shadow-sm border-abbey-400 placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-sky-500 block w-full rounded-md sm:text-sm focus:ring-1\"\n                                    placeholder=\"Identification Number\" />\n                                <button type=\"submit\"\n                                    class=\"mt-2 px-4 py-2 text-sm text-white-100 bg-abbey-600 hover:bg-abbey-400 rounded-md\">\n                                    Confirm Attendance\n                                </button>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div></div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { createItem, fetchItem } from \"@/services/apiService\";\nimport SpinnerComponent from \"@/components/Spinner.vue\";\n\nexport default {\n    name: \"AttendanceView\",\n    components: {\n        SpinnerComponent\n    },\n    data() {\n        return {\n            headerTitle: \"Event Attendance Register\",\n            eventId: this.$route.params.eventId,\n            event: {},\n            appUrl: process.env.VUE_APP_BASE_URL,\n            apiUrl: process.env.VUE_APP_API_URL,\n            isLoading: true,\n            today: new Date(),\n            attendanceConfirmData: {\n                event_id: \"\",\n                user_id: \"\",\n            },\n            errorMsg: null,\n            successMsg: null\n        };\n    },\n    computed: {\n        formattedDate() {\n            return this.today.toLocaleDateString('en-US', {\n                weekday: 'long',\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n            });\n        }\n    },\n    mounted() {\n        this.getEventAttendance();\n    },\n    methods: {\n        async getEventAttendance() {\n            try {\n                const response = await fetchItem(\"events/event\", this.eventId);\n                this.event = response.event;\n                this.isLoading = false;\n            } catch (error) {\n                console.error(\"Error fetching event:\", error);\n                this.isLoading = false;\n            }\n        },\n        async confirmAttendance() {\n            this.attendanceConfirmData.event_id = this.eventId\n            this.isLoading = true;\n            try {\n                const response = await createItem(\"events/confirm_event_attendance/\", this.attendanceConfirmData);\n                this.events = response.data;\n                this.isLoading = false;\n                this.errorMsg = null;\n                this.successMsg = \"Succefully confirmed attendance for today\"\n                this.getEventAttendance();\n            } catch (error) {\n                this.successMsg = null\n                this.errorMsg = error.response.data.detail\n                this.isLoading = false;\n            }\n        },\n        formatDate(dateString) {\n            const date = new Date(dateString);\n            return date.toLocaleString(\"en-UK\", {\n                day: \"2-digit\",\n                month: \"2-digit\",\n                year: \"numeric\",\n            });\n        },\n    },\n};\n</script>","import { render } from \"./Attendance.vue?vue&type=template&id=313dc3e4\"\nimport script from \"./Attendance.vue?vue&type=script&lang=js\"\nexport * from \"./Attendance.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementVNode","type","_createElementBlock","_hoisted_1","$data","isLoading","_createBlock","_component_SpinnerComponent","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","event","_hoisted_6","$options","formatDate","start_date","end_date","_hoisted_7","_hoisted_8","_createTextVNode","formattedDate","_hoisted_9","_hoisted_10","_hoisted_11","errorMsg","_hoisted_12","_createCommentVNode","successMsg","_hoisted_13","onSubmit","_cache","_withModifiers","args","confirmAttendance","method","_hoisted_14","$event","attendanceConfirmData","user_id","placeholder","_hoisted_15","_hoisted_16","name","components","SpinnerComponent","data","headerTitle","eventId","this","$route","params","appUrl","process","apiUrl","today","Date","event_id","computed","toLocaleDateString","weekday","year","month","day","mounted","getEventAttendance","methods","response","fetchItem","error","console","createItem","events","detail","dateString","date","toLocaleString","__exports__","render"],"sourceRoot":""}